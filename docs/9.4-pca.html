<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="9.4 PCA | Daten Analyse mit RStudio - Dokumentation" />
<meta property="og:type" content="book" />


<meta property="og:description" content="Explorative Datenanalyse in den Geowissenschaften" />


<meta name="author" content="Dr.¬†Kristof Dorau" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="Explorative Datenanalyse in den Geowissenschaften">

<title>9.4 PCA | Daten Analyse mit RStudio - Dokumentation</title>

<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/twitter-widget-0.0.1/widgets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<link rel="stylesheet" href="toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#einleitung"><span class="toc-section-number">1</span> Einleitung</a>
<ul>
<li><a href="1.1-syntax-und-stilistische-mittel-der-dokumentation.html#syntax-und-stilistische-mittel-der-dokumentation"><span class="toc-section-number">1.1</span> Syntax und stilistische Mittel der Dokumentation</a></li>
<li><a href="1.2-falbeispiele.html#falbeispiele"><span class="toc-section-number">1.2</span> Falbeispiele</a>
<ul>
<li><a href="1.2-falbeispiele.html#speicherkoog"><span class="toc-section-number">1.2.1</span> Speicherkoog</a></li>
<li><a href="1.2-falbeispiele.html#mtcars-datensatz"><span class="toc-section-number">1.2.2</span> <code>mtcars</code> Datensatz</a></li>
</ul></li>
<li><a href="1.3-√ºber-mich.html#√ºber-mich"><span class="toc-section-number">1.3</span> √úber mich</a></li>
<li><a href="1.4-literatur.html#literatur"><span class="toc-section-number">1.4</span> Literatur üîç</a></li>
</ul></li>
<li><a href="2-erste-schritte-mit-r.html#erste-schritte-mit-r"><span class="toc-section-number">2</span> Erste Schritte mit R</a>
<ul>
<li><a href="2.1-installation.html#installation"><span class="toc-section-number">2.1</span> Installation</a>
<ul>
<li><a href="2.1-installation.html#r"><span class="toc-section-number">2.1.1</span> R</a></li>
<li><a href="2.1-installation.html#rstudio"><span class="toc-section-number">2.1.2</span> RStudio</a></li>
<li><a href="2.1-installation.html#packages---das-tidyverse"><span class="toc-section-number">2.1.3</span> Packages - das tidyverse</a></li>
</ul></li>
<li><a href="2.2-rstudio-benutzeroberfl√§che.html#rstudio-benutzeroberfl√§che"><span class="toc-section-number">2.2</span> RStudio Benutzeroberfl√§che</a>
<ul>
<li><a href="2.2-rstudio-benutzeroberfl√§che.html#source"><span class="toc-section-number">2.2.1</span> Source</a></li>
<li><a href="2.2-rstudio-benutzeroberfl√§che.html#konsole"><span class="toc-section-number">2.2.2</span> Konsole</a></li>
<li><a href="2.2-rstudio-benutzeroberfl√§che.html#environment"><span class="toc-section-number">2.2.3</span> Environment</a></li>
<li><a href="2.2-rstudio-benutzeroberfl√§che.html#files-plots-packages-help"><span class="toc-section-number">2.2.4</span> Files / Plots / Packages / Help</a></li>
</ul></li>
<li><a href="2.3-code-lesen-und-schreiben.html#code-lesen-und-schreiben"><span class="toc-section-number">2.3</span> Code lesen und schreiben</a>
<ul>
<li><a href="2.3-code-lesen-und-schreiben.html#die-konsole"><span class="toc-section-number">2.3.1</span> Die Konsole</a></li>
<li><a href="2.3-code-lesen-und-schreiben.html#r-skript"><span class="toc-section-number">2.3.2</span> R Skript</a></li>
<li><a href="2.3-code-lesen-und-schreiben.html#good-practice-code-zu-schreiben"><span class="toc-section-number">2.3.3</span> Good practice Code zu schreiben</a></li>
</ul></li>
<li><a href="2.4-objekte-und-funktionen.html#objekte-und-funktionen"><span class="toc-section-number">2.4</span> Objekte und Funktionen</a>
<ul>
<li><a href="2.4-objekte-und-funktionen.html#neue-objekte-erstellen"><span class="toc-section-number">2.4.1</span> Neue Objekte erstellen</a></li>
<li><a href="2.4-objekte-und-funktionen.html#beispiel-umrechnen-von-c-in-k"><span class="toc-section-number">2.4.2</span> Beispiel: Umrechnen von ¬∞C in K</a></li>
</ul></li>
<li><a href="2.5-cheatsheets.html#cheatsheets"><span class="toc-section-number">2.5</span> Cheatsheets</a></li>
</ul></li>
<li><a href="3-grundlagen.html#grundlagen"><span class="toc-section-number">3</span> Grundlagen</a>
<ul>
<li><a href="3.1-datentypen.html#datentypen"><span class="toc-section-number">3.1</span> Datentypen</a>
<ul>
<li><a href="3.1-datentypen.html#numerische-objekte"><span class="toc-section-number">3.1.1</span> Numerische Objekte</a></li>
<li><a href="3.1-datentypen.html#textobjekte"><span class="toc-section-number">3.1.2</span> Textobjekte</a></li>
<li><a href="3.1-datentypen.html#logicals"><span class="toc-section-number">3.1.3</span> Logicals</a></li>
<li><a href="3.1-datentypen.html#fehlende-werte"><span class="toc-section-number">3.1.4</span> Fehlende Werte</a></li>
<li><a href="3.1-datentypen.html#weitere-objekttypen"><span class="toc-section-number">3.1.5</span> Weitere Objekttypen</a></li>
<li><a href="3.1-datentypen.html#objekttypen-√§ndern"><span class="toc-section-number">3.1.6</span> Objekttypen √§ndern</a></li>
</ul></li>
<li><a href="3.2-datenstrukturen.html#datenstrukturen"><span class="toc-section-number">3.2</span> Datenstrukturen</a>
<ul>
<li><a href="3.2-datenstrukturen.html#vektor"><span class="toc-section-number">3.2.1</span> Vektor</a></li>
<li><a href="3.2-datenstrukturen.html#liste"><span class="toc-section-number">3.2.2</span> Liste</a></li>
<li><a href="3.2-datenstrukturen.html#matrix-und-dataframe"><span class="toc-section-number">3.2.3</span> Matrix und dataframe</a></li>
</ul></li>
<li><a href="3.3-zufallszahlen-erzeugen.html#zufallszahlen-erzeugen"><span class="toc-section-number">3.3</span> Zufallszahlen erzeugen</a></li>
<li><a href="3.4-rechnen-mit-vektoren.html#rechnen-mit-vektoren"><span class="toc-section-number">3.4</span> Rechnen mit Vektoren</a></li>
<li><a href="3.5-str-funktion.html#str-funktion"><span class="toc-section-number">3.5</span> str() Funktion</a></li>
<li><a href="3.6-selektion-von-spaltenzeilen-in-dataframes.html#selektion-von-spaltenzeilen-in-dataframes"><span class="toc-section-number">3.6</span> Selektion von Spalten/Zeilen in dataframes</a></li>
<li><a href="3.7-erstellen-von-eigenen-funktionen.html#erstellen-von-eigenen-funktionen"><span class="toc-section-number">3.7</span> Erstellen von eigenen Funktionen</a>
<ul>
<li><a href="3.7-erstellen-von-eigenen-funktionen.html#speziellere-anwendungen-von-funktionen"><span class="toc-section-number">3.7.1</span> Speziellere Anwendungen von Funktionen</a></li>
<li><a href="3.7-erstellen-von-eigenen-funktionen.html#nutze-...-als-platzhalter"><span class="toc-section-number">3.7.2</span> Nutze <code>...</code> als Platzhalter</a></li>
</ul></li>
</ul></li>
<li><a href="4-wie-lese-ich-daten-ein.html#wie-lese-ich-daten-ein"><span class="toc-section-number">4</span> Wie lese ich Daten ein</a>
<ul>
<li><a href="4.1-tidy-data.html#tidy-data"><span class="toc-section-number">4.1</span> Tidy data</a></li>
<li><a href="4.2-dateiformate.html#dateiformate"><span class="toc-section-number">4.2</span> Dateiformate</a></li>
<li><a href="4.3-readrread_delim.html#readrread_delim"><span class="toc-section-number">4.3</span> readr::read_delim()</a></li>
<li><a href="4.4-arbeiten-mit-zeiten.html#arbeiten-mit-zeiten"><span class="toc-section-number">4.4</span> Arbeiten mit Zeiten</a></li>
</ul></li>
<li><a href="5-daten-manipulieren.html#daten-manipulieren"><span class="toc-section-number">5</span> Daten manipulieren</a>
<ul>
<li><a href="5.1-select---variablen-ausw√§hlen-spaltenweise.html#select---variablen-ausw√§hlen-spaltenweise"><span class="toc-section-number">5.1</span> select() - Variablen ausw√§hlen (spaltenweise)</a></li>
<li><a href="5.2-filter---filtern-von-variablen-zeilenweise.html#filter---filtern-von-variablen-zeilenweise"><span class="toc-section-number">5.2</span> filter() - Filtern von Variablen (zeilenweise)</a></li>
<li><a href="5.3-arrange---sortieren-des-datensatzes.html#arrange---sortieren-des-datensatzes"><span class="toc-section-number">5.3</span> arrange() - Sortieren des Datensatzes</a></li>
<li><a href="5.4-mutate---erstelle-neue-variablen.html#mutate---erstelle-neue-variablen"><span class="toc-section-number">5.4</span> mutate() - Erstelle neue Variablen</a></li>
<li><a href="5.5-summarize---zusammenfassung-von-variablen.html#summarize---zusammenfassung-von-variablen"><span class="toc-section-number">5.5</span> summarize() - Zusammenfassung von Variablen</a></li>
<li><a href="5.6-group_by---gruppiere-variablen.html#group_by---gruppiere-variablen"><span class="toc-section-number">5.6</span> group_by - Gruppiere Variablen</a></li>
<li><a href="5.7-across---anwenden-von-funktionen-auf-spalten.html#across---anwenden-von-funktionen-auf-spalten"><span class="toc-section-number">5.7</span> across() - Anwenden von Funktionen auf Spalten</a></li>
<li><a href="5.8-joins.html#joins"><span class="toc-section-number">5.8</span> joins</a></li>
<li><a href="5.9-pivot_longer---long-data-format.html#pivot_longer---long-data-format"><span class="toc-section-number">5.9</span> pivot_longer() - Long data format</a></li>
<li><a href="5.10-pivot_wider---wider-data-format.html#pivot_wider---wider-data-format"><span class="toc-section-number">5.10</span> pivot_wider() - wider data format</a></li>
</ul></li>
<li><a href="6-explorative-datenanalyse.html#explorative-datenanalyse"><span class="toc-section-number">6</span> Explorative-Datenanalyse</a>
<ul>
<li><a href="6.1-fehlende-werte-1.html#fehlende-werte-1"><span class="toc-section-number">6.1</span> Fehlende Werte</a></li>
</ul></li>
<li><a href="7-datenvisualisierung.html#datenvisualisierung"><span class="toc-section-number">7</span> Datenvisualisierung</a>
<ul>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#ggplot2---grammar-of-graphics"><span class="toc-section-number">7.1</span> ggplot2 - grammar of graphics</a>
<ul>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#schl√ºsselkomponenten"><span class="toc-section-number">7.1.1</span> Schl√ºsselkomponenten</a></li>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#aesthetics-color-size-shape"><span class="toc-section-number">7.1.2</span> Aesthetics (color, size, shape)</a></li>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#smoothers-and-models"><span class="toc-section-number">7.1.3</span> Smoothers and models</a></li>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#labels"><span class="toc-section-number">7.1.4</span> Labels</a></li>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#themes"><span class="toc-section-number">7.1.5</span> Themes</a></li>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#facets"><span class="toc-section-number">7.1.6</span> Facets</a></li>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#coordinate-system"><span class="toc-section-number">7.1.7</span> Coordinate system</a></li>
<li><a href="7.1-ggplot2---grammar-of-graphics.html#annotations"><span class="toc-section-number">7.1.8</span> Annotations</a></li>
</ul></li>
<li><a href="7.2-verkn√ºfpen-von-tidyverse-und-ggplot.html#verkn√ºfpen-von-tidyverse-und-ggplot"><span class="toc-section-number">7.2</span> Verkn√ºfpen von tidyverse und ggplot</a></li>
<li><a href="7.3-arbeiten-mit-zeiten-1.html#arbeiten-mit-zeiten-1"><span class="toc-section-number">7.3</span> Arbeiten mit Zeiten</a>
<ul>
<li><a href="7.3-arbeiten-mit-zeiten-1.html#strings"><span class="toc-section-number">7.3.1</span> strings</a></li>
<li><a href="7.3-arbeiten-mit-zeiten-1.html#von-individuellen-komponenten"><span class="toc-section-number">7.3.2</span> Von individuellen Komponenten</a></li>
<li><a href="7.3-arbeiten-mit-zeiten-1.html#ein-bestehendes-objekt"><span class="toc-section-number">7.3.3</span> Ein bestehendes Objekt</a></li>
<li><a href="7.3-arbeiten-mit-zeiten-1.html#darstellung-in-abbildungen"><span class="toc-section-number">7.3.4</span> Darstellung in Abbildungen</a></li>
</ul></li>
<li><a href="7.4-pivoting-to-longer-format.html#pivoting-to-longer-format"><span class="toc-section-number">7.4</span> pivoting to longer format</a></li>
<li><a href="7.5-good-practices.html#good-practices"><span class="toc-section-number">7.5</span> Good practices</a></li>
<li><a href="7.6-speichern-eines-plots.html#speichern-eines-plots"><span class="toc-section-number">7.6</span> Speichern eines plots</a></li>
<li><a href="7.7-formen-der-darstellung.html#formen-der-darstellung"><span class="toc-section-number">7.7</span> Formen der Darstellung</a>
<ul>
<li><a href="7.7-formen-der-darstellung.html#overplotting"><span class="toc-section-number">7.7.1</span> Overplotting</a></li>
<li><a href="7.7-formen-der-darstellung.html#positions-argument"><span class="toc-section-number">7.7.2</span> Positions Argument</a></li>
<li><a href="7.7-formen-der-darstellung.html#inspirationen"><span class="toc-section-number">7.7.3</span> Inspirationen</a></li>
</ul></li>
<li><a href="7.8-farbauswahl.html#farbauswahl"><span class="toc-section-number">7.8</span> Farbauswahl</a>
<ul>
<li><a href="7.8-farbauswahl.html#beispiele-f√ºr-unterschiedliche-farben"><span class="toc-section-number">7.8.1</span> Beispiele f√ºr unterschiedliche Farben</a></li>
</ul></li>
</ul></li>
<li><a href="8-karten-erstellen-in-r.html#karten-erstellen-in-r"><span class="toc-section-number">8</span> Karten erstellen in R üåç</a>
<ul>
<li><a href="8.1-datenquellen.html#datenquellen"><span class="toc-section-number">8.1</span> Datenquellen</a></li>
<li><a href="8.2-packages.html#packages"><span class="toc-section-number">8.2</span> Packages</a>
<ul>
<li><a href="8.2-packages.html#rgdal-package"><span class="toc-section-number">8.2.1</span> <code>rgdal</code> package</a></li>
</ul></li>
<li><a href="8.3-√ºbungen.html#√ºbungen"><span class="toc-section-number">8.3</span> √úbungen</a>
<ul>
<li><a href="8.3-√ºbungen.html#erstelle-eine-karte-der-bundesrepublik"><span class="toc-section-number">8.3.1</span> Erstelle eine Karte der Bundesrepublik</a></li>
<li><a href="8.3-√ºbungen.html#erstelle-eine-weltkarte"><span class="toc-section-number">8.3.2</span> Erstelle eine Weltkarte</a></li>
</ul></li>
</ul></li>
<li><a href="9-statistische-auswertungen.html#statistische-auswertungen"><span class="toc-section-number">9</span> Statistische Auswertungen</a>
<ul>
<li><a href="9.1-verteilung-der-daten.html#verteilung-der-daten"><span class="toc-section-number">9.1</span> Verteilung der Daten</a></li>
<li><a href="9.2-datentransformation.html#datentransformation"><span class="toc-section-number">9.2</span> Datentransformation</a></li>
<li><a href="9.3-korrelationen.html#korrelationen"><span class="toc-section-number">9.3</span> Korrelationen</a>
<ul>
<li><a href="9.3-korrelationen.html#pearsons-korrelationkoeffizient-r"><span class="toc-section-number">9.3.1</span> Pearson‚Äôs Korrelationkoeffizient (r)</a></li>
<li><a href="9.3-korrelationen.html#signifikanztest"><span class="toc-section-number">9.3.2</span> Signifikanztest</a></li>
<li><a href="9.3-korrelationen.html#korrelation-vs.-regression"><span class="toc-section-number">9.3.3</span> Korrelation vs.¬†Regression</a></li>
</ul></li>
<li><a href="9.4-pca.html#pca"><span class="toc-section-number">9.4</span> PCA</a>
<ul>
<li><a href="9.4-pca.html#datenauswahl"><span class="toc-section-number">9.4.1</span> Datenauswahl</a></li>
<li><a href="9.4-pca.html#daten-standardisieren"><span class="toc-section-number">9.4.2</span> Daten Standardisieren</a></li>
<li><a href="9.4-pca.html#eigenvalues"><span class="toc-section-number">9.4.3</span> Eigenvalues</a></li>
<li><a href="9.4-pca.html#darstellen-der-ergebnisse"><span class="toc-section-number">9.4.4</span> Darstellen der Ergebnisse</a></li>
</ul></li>
</ul></li>
<li><a href="10-datenmanagement.html#datenmanagement"><span class="toc-section-number">10</span> Datenmanagement</a></li>
<li><a href="11-reporting-in-rmarkdown.html#reporting-in-rmarkdown"><span class="toc-section-number">11</span> Reporting in Rmarkdown</a>
<ul>
<li><a href="11.1-mathematische-befehle.html#mathematische-befehle"><span class="toc-section-number">11.1</span> Mathematische Befehle</a>
<ul>
<li><a href="11.1-mathematische-befehle.html#br√ºche"><span class="toc-section-number">11.1.1</span> Br√ºche</a></li>
<li><a href="11.1-mathematische-befehle.html#hoch--und-tiefstellung"><span class="toc-section-number">11.1.2</span> Hoch- und Tiefstellung</a></li>
<li><a href="11.1-mathematische-befehle.html#quadratwurzel"><span class="toc-section-number">11.1.3</span> Quadratwurzel</a></li>
</ul></li>
</ul></li>
<li><a href="12-github.html#github"><span class="toc-section-number">12</span> Github</a>
<ul>
<li><a href="12.1-projekt-erstellen.html#projekt-erstellen"><span class="toc-section-number">12.1</span> Projekt erstellen</a>
<ul>
<li><a href="12.1-projekt-erstellen.html#workflow"><span class="toc-section-number">12.1.1</span> Workflow</a></li>
<li><a href="12.1-projekt-erstellen.html#synchronisieren-vieler-dateien"><span class="toc-section-number">12.1.2</span> Synchronisieren vieler Dateien</a></li>
<li><a href="12.1-projekt-erstellen.html#ordner-lokal-behalten-aber-auf-git-l√∂schen"><span class="toc-section-number">12.1.3</span> Ordner lokal behalten aber auf Git l√∂schen</a></li>
</ul></li>
<li><a href="12.2-cache-s√§ubern.html#cache-s√§ubern"><span class="toc-section-number">12.2</span> Cache s√§ubern</a></li>
</ul></li>
<li><a href="13-bookdown.html#bookdown"><span class="toc-section-number">13</span> Bookdown</a>
<ul>
<li><a href="13.1-vorbereitung.html#vorbereitung"><span class="toc-section-number">13.1</span> Vorbereitung</a></li>
<li><a href="13.2-github-pages.html#github-pages"><span class="toc-section-number">13.2</span> Github pages</a></li>
<li><a href="13.3-emojiys.html#emojiys"><span class="toc-section-number">13.3</span> Emojiys</a></li>
</ul></li>
<li><a href="14-blogdown.html#blogdown"><span class="toc-section-number">14</span> Blogdown</a>
<ul>
<li><a href="14.1-setup-a-homepage-with-hugo-and-blogdown.html#setup-a-homepage-with-hugo-and-blogdown"><span class="toc-section-number">14.1</span> Setup a homepage with Hugo and blogdown</a></li>
<li><a href="14.2-github-1.html#github-1"><span class="toc-section-number">14.2</span> Github</a></li>
<li><a href="14.3-domain-name.html#domain-name"><span class="toc-section-number">14.3</span> Domain name</a></li>
<li><a href="14.4-homepage.html#homepage"><span class="toc-section-number">14.4</span> Homepage</a></li>
<li><a href="14.5-wowchemystarter-academic.html#wowchemystarter-academic"><span class="toc-section-number">14.5</span> ‚Äúwowchemy/starter-academic‚Äù</a></li>
<li><a href="14.6-where-to-adjust-the-homepage.html#where-to-adjust-the-homepage"><span class="toc-section-number">14.6</span> Where to adjust the Homepage</a></li>
<li><a href="14.7-workflow-1.html#workflow-1"><span class="toc-section-number">14.7</span> Workflow</a></li>
<li><a href="14.8-yaml-metadata.html#yaml-metadata"><span class="toc-section-number">14.8</span> YAML metadata</a></li>
</ul></li>
<li><a href="15-shiny.html#shiny"><span class="toc-section-number">15</span> Shiny</a>
<ul>
<li><a href="15.1-ui-benutzeroberfl√§che.html#ui-benutzeroberfl√§che"><span class="toc-section-number">15.1</span> UI Benutzeroberfl√§che</a></li>
<li><a href="15.2-welche-befehle-sollen-ausgef√ºhrt-werden.html#welche-befehle-sollen-ausgef√ºhrt-werden"><span class="toc-section-number">15.2</span> Welche Befehle sollen ausgef√ºhrt werden</a></li>
<li><a href="15.3-beispiel-speicherkoog.html#beispiel-speicherkoog"><span class="toc-section-number">15.3</span> Beispiel Speicherkoog</a></li>
</ul></li>
<li><a href="16-diverses.html#diverses"><span class="toc-section-number">16</span> Diverses</a>
<ul>
<li><a href="16.1-entfernen-aller-packages.html#entfernen-aller-packages"><span class="toc-section-number">16.1</span> Entfernen aller packages</a></li>
<li><a href="16.2-shortcuts.html#shortcuts"><span class="toc-section-number">16.2</span> Shortcuts</a></li>
<li><a href="16.3-faqs.html#faqs"><span class="toc-section-number">16.3</span> FAQs</a>
<ul>
<li><a href="16.3-faqs.html#kalender-erstellen"><span class="toc-section-number">16.3.1</span> Kalender erstellen</a></li>
<li><a href="16.3-faqs.html#rstudio-1"><span class="toc-section-number">16.3.2</span> RStudio</a></li>
<li><a href="16.3-faqs.html#datenmanipulation"><span class="toc-section-number">16.3.3</span> Datenmanipulation</a></li>
</ul></li>
<li><a href="16.4-visualisation.html#visualisation"><span class="toc-section-number">16.4</span> Visualisation</a>
<ul>
<li><a href="16.4-visualisation.html#superscripts-and-subscripts"><span class="toc-section-number">16.4.1</span> Superscripts and subscripts</a></li>
<li><a href="16.4-visualisation.html#modifying-labels-in-faceted-plots"><span class="toc-section-number">16.4.2</span> Modifying labels in faceted plots</a></li>
</ul></li>
<li><a href="16.5-glossary.html#glossary"><span class="toc-section-number">16.5</span> Glossary</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="pca" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> PCA</h2>
<p>üîç <a href="http://www.sthda.com/english/articles/31-principal-component-methods-in-r-practical-guide/112-pca-principal-component-analysis-essentials/">sthda.com</a></p>
<p>Eine Hauptkomponentenanalyse (engl. Principal component analysis; PCA) ist ein Verfahren der multivariaten Statistik. Dadurch k√∂nnen gro√üe Datens√§tze strukturiert und vereinfacht werden, durch eine m√∂glichst geringe Zahl aussagekr√§ftiger Linearkombinationen (<strong>Hauptkomponenten</strong>). PCA wird verwendet um Informationen von einer Vielzahl (inter-korrelierten) quantitativen Variablen zu extrahieren. Diese Informationen werden reduziert zu den genannten wenigen Hauptkomponenten (= principal components = PC).</p>
<p>Das Ziel einer PCA ist es die Hauptachsen (PC) so zu arrangieren, dass die Variation der Daten maximiert wird. Einfach ausgedr√ºckt kann man eine PCA als Rotation des Koordinatensystems verstehen:</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-272"></span>
<img src="images/046.png" alt="Illustration von C.Wilke: https://wilkelab.org/SDS375/" width="100%" />
<p class="caption">
Figure 9.8: Illustration von C.Wilke: <a href="https://wilkelab.org/SDS375/" class="uri">https://wilkelab.org/SDS375/</a>
</p>
</div>
<p>üí° Eine PCA ist besonders dann n√ºtzlich, wenn die Variablen in einem Datensatz stark korreliert sind. Korrelation bedeutet Redundanz und wegen dieser Redundanz kann eine PCA viele Variablen in eine geringere Anzahl an neuen Variablen (= PC) umwandeln, welche m√∂glichst viel Varianz der urspr√ºnglichen Daten erkl√§ren.</p>
<p>In R gibt es mehrere M√∂glichkeiten eine PCA durchzuf√ºhren</p>
<ul>
<li>prcomp() and princomp() [built-in R stats package]</li>
<li>PCA() [FactoMineR package]</li>
<li>dudi.pca() [ade4 package]</li>
<li>epPCA() [ExPosition package]</li>
</ul>
<p>Egal welches package man verwendet, die Daten der PCA k√∂nnen auch mit dem <code>factoextra</code> package verarbeitet werden. Dies hat den Vorteil, dass die Visualisierung <code>ggplot2</code>-basiert ist.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="9.4-pca.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Laden des Datensatzes </span></span>
<span id="cb259-2"><a href="9.4-pca.html#cb259-2" aria-hidden="true" tabindex="-1"></a>df_ec <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">&quot;data/data_ecuador.csv&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;;&quot;</span>, <span class="at">col_types =</span> </span>
<span id="cb259-3"><a href="9.4-pca.html#cb259-3" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">cols</span>(</span>
<span id="cb259-4"><a href="9.4-pca.html#cb259-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">wsc =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-5"><a href="9.4-pca.html#cb259-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">wsc_ma =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-6"><a href="9.4-pca.html#cb259-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">wsc_som =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-7"><a href="9.4-pca.html#cb259-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">hwsc =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-8"><a href="9.4-pca.html#cb259-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">hwsc_ma =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-9"><a href="9.4-pca.html#cb259-9" aria-hidden="true" tabindex="-1"></a>                            <span class="at">hwsc_som =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-10"><a href="9.4-pca.html#cb259-10" aria-hidden="true" tabindex="-1"></a>                            <span class="at">wsc_hwsc_som =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-11"><a href="9.4-pca.html#cb259-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Fed =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-12"><a href="9.4-pca.html#cb259-12" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Feo =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-13"><a href="9.4-pca.html#cb259-13" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Feo_Fed =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-14"><a href="9.4-pca.html#cb259-14" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Fepyro =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-15"><a href="9.4-pca.html#cb259-15" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Mno =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-16"><a href="9.4-pca.html#cb259-16" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Alo =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-17"><a href="9.4-pca.html#cb259-17" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Sio =</span> <span class="fu">col_double</span>(),</span>
<span id="cb259-18"><a href="9.4-pca.html#cb259-18" aria-hidden="true" tabindex="-1"></a>                            <span class="at">Alpyro =</span> <span class="fu">col_double</span>()</span>
<span id="cb259-19"><a href="9.4-pca.html#cb259-19" aria-hidden="true" tabindex="-1"></a>                          )</span>
<span id="cb259-20"><a href="9.4-pca.html#cb259-20" aria-hidden="true" tabindex="-1"></a>                        )</span>
<span id="cb259-21"><a href="9.4-pca.html#cb259-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Laden der packages</span></span>
<span id="cb259-22"><a href="9.4-pca.html#cb259-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb259-23"><a href="9.4-pca.html#cb259-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span></code></pre></div>
<div id="datenauswahl" class="section level3" number="9.4.1">
<h3><span class="header-section-number">9.4.1</span> Datenauswahl</h3>
<p>Zuerst w√§hlen wir die Daten aus, welche wir in der PCA ber√ºcksichtigen wollen.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="9.4-pca.html#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create one data frame with the data</span></span>
<span id="cb260-2"><a href="9.4-pca.html#cb260-2" aria-hidden="true" tabindex="-1"></a>df_pca <span class="ot">&lt;-</span> df_ec <span class="sc">%&gt;%</span></span>
<span id="cb260-3"><a href="9.4-pca.html#cb260-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(site_name, depth, som<span class="sc">:</span>P2O5, <span class="sc">-</span>mat_amorph, <span class="sc">-</span>index) <span class="sc">%&gt;%</span></span>
<span id="cb260-4"><a href="9.4-pca.html#cb260-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="co"># Mit dem Befehl werden NA Werte aus den Daten entfernt...wichtig (!) bevor die PCA durchgef√ºhrt werden kann</span></span>
<span id="cb260-5"><a href="9.4-pca.html#cb260-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-6"><a href="9.4-pca.html#cb260-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create one data frame </span></span>
<span id="cb260-7"><a href="9.4-pca.html#cb260-7" aria-hidden="true" tabindex="-1"></a>df_var <span class="ot">&lt;-</span> df_pca <span class="sc">%&gt;%</span></span>
<span id="cb260-8"><a href="9.4-pca.html#cb260-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(site_name, depth)</span>
<span id="cb260-9"><a href="9.4-pca.html#cb260-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-10"><a href="9.4-pca.html#cb260-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_pca, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb260-11"><a href="9.4-pca.html#cb260-11" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 5 x 44</span></span>
<span id="cb260-12"><a href="9.4-pca.html#cb260-12" aria-hidden="true" tabindex="-1"></a><span class="do">##   site_name depth   som   wsc wsc_ma wsc_som  hwsc hwsc_ma hwsc_som wsc_hwsc_som</span></span>
<span id="cb260-13"><a href="9.4-pca.html#cb260-13" aria-hidden="true" tabindex="-1"></a><span class="do">##   &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;</span></span>
<span id="cb260-14"><a href="9.4-pca.html#cb260-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 PA1       0-30   167  1.24      37   0.007  5.11      44    0.031        0.038</span></span>
<span id="cb260-15"><a href="9.4-pca.html#cb260-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 PA1       30-60  118. 0.538     32   0.005  2.30      37    0.02         0.024</span></span>
<span id="cb260-16"><a href="9.4-pca.html#cb260-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 PA1       60-90  114. 0.301     31   0.003  1.46      37    0.013        0.015</span></span>
<span id="cb260-17"><a href="9.4-pca.html#cb260-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 PA1       0-30   162. 1.15      39   0.007  5.04      44    0.031        0.038</span></span>
<span id="cb260-18"><a href="9.4-pca.html#cb260-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 PA1       30-60  115. 0.46      38   0.004  1.91      37    0.017        0.021</span></span>
<span id="cb260-19"><a href="9.4-pca.html#cb260-19" aria-hidden="true" tabindex="-1"></a><span class="do">## # ... with 34 more variables: N &lt;dbl&gt;, C_N &lt;dbl&gt;, ph_h2o &lt;dbl&gt;, ph_cacl2 &lt;dbl&gt;,</span></span>
<span id="cb260-20"><a href="9.4-pca.html#cb260-20" aria-hidden="true" tabindex="-1"></a><span class="do">## #   delta_ph &lt;dbl&gt;, ph_naf &lt;dbl&gt;, melanic_index &lt;dbl&gt;, bs &lt;dbl&gt;, Ca &lt;dbl&gt;,</span></span>
<span id="cb260-21"><a href="9.4-pca.html#cb260-21" aria-hidden="true" tabindex="-1"></a><span class="do">## #   Mg &lt;dbl&gt;, K &lt;dbl&gt;, Na  &lt;dbl&gt;, Al &lt;dbl&gt;, Fe &lt;dbl&gt;, Mn &lt;dbl&gt;, H &lt;dbl&gt;,</span></span>
<span id="cb260-22"><a href="9.4-pca.html#cb260-22" aria-hidden="true" tabindex="-1"></a><span class="do">## #   Fed &lt;dbl&gt;, Feo &lt;dbl&gt;, Feo_Fed &lt;dbl&gt;, Fepyro &lt;dbl&gt;, Mno &lt;dbl&gt;, Alo &lt;dbl&gt;,</span></span>
<span id="cb260-23"><a href="9.4-pca.html#cb260-23" aria-hidden="true" tabindex="-1"></a><span class="do">## #   Sio &lt;dbl&gt;, Alpyro &lt;dbl&gt;, SiO2 &lt;dbl&gt;, TiO2 &lt;dbl&gt;, Al2O3 &lt;dbl&gt;, Fe2O3 &lt;dbl&gt;,</span></span>
<span id="cb260-24"><a href="9.4-pca.html#cb260-24" aria-hidden="true" tabindex="-1"></a><span class="do">## #   MnO &lt;dbl&gt;, MgO &lt;dbl&gt;, CaO &lt;dbl&gt;, Na2O &lt;dbl&gt;, K2O &lt;dbl&gt;, P2O5 &lt;dbl&gt;</span></span></code></pre></div>
</div>
<div id="daten-standardisieren" class="section level3" number="9.4.2">
<h3><span class="header-section-number">9.4.2</span> Daten Standardisieren</h3>
<p>Bei einer PCA werden die Daten h√§ufig standardisiert, also skaliert. Dies ist besonders wichtig wenn die Einheiten stark unterschiedlich sind, bspw. in %, mg kg<sup>-1</sup>, etc.</p>
<p>üí° Wenn man die Funktion <code>PCA()</code> im FactoMineR verwendet, gibt es das Argument die Daten zu standardisieren. Dies muss also nicht im Vorfeld durchgef√ºhrt werden.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="9.4-pca.html#cb261-1" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> <span class="fu">PCA</span>(df_pca[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)], <span class="at">scale.unit =</span> T, <span class="at">ncp =</span> <span class="dv">5</span>, <span class="at">graph =</span> F) <span class="co"># Makes the PCA but without the site_name and depth grouping value</span></span>
<span id="cb261-2"><a href="9.4-pca.html#cb261-2" aria-hidden="true" tabindex="-1"></a>pca</span>
<span id="cb261-3"><a href="9.4-pca.html#cb261-3" aria-hidden="true" tabindex="-1"></a><span class="do">## **Results for the Principal Component Analysis (PCA)**</span></span>
<span id="cb261-4"><a href="9.4-pca.html#cb261-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The analysis was performed on 44 individuals, described by 42 variables</span></span>
<span id="cb261-5"><a href="9.4-pca.html#cb261-5" aria-hidden="true" tabindex="-1"></a><span class="do">## *The results are available in the following objects:</span></span>
<span id="cb261-6"><a href="9.4-pca.html#cb261-6" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb261-7"><a href="9.4-pca.html#cb261-7" aria-hidden="true" tabindex="-1"></a><span class="do">##    name               description                          </span></span>
<span id="cb261-8"><a href="9.4-pca.html#cb261-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1  &quot;$eig&quot;             &quot;eigenvalues&quot;                        </span></span>
<span id="cb261-9"><a href="9.4-pca.html#cb261-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2  &quot;$var&quot;             &quot;results for the variables&quot;          </span></span>
<span id="cb261-10"><a href="9.4-pca.html#cb261-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3  &quot;$var$coord&quot;       &quot;coord. for the variables&quot;           </span></span>
<span id="cb261-11"><a href="9.4-pca.html#cb261-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4  &quot;$var$cor&quot;         &quot;correlations variables - dimensions&quot;</span></span>
<span id="cb261-12"><a href="9.4-pca.html#cb261-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 5  &quot;$var$cos2&quot;        &quot;cos2 for the variables&quot;             </span></span>
<span id="cb261-13"><a href="9.4-pca.html#cb261-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 6  &quot;$var$contrib&quot;     &quot;contributions of the variables&quot;     </span></span>
<span id="cb261-14"><a href="9.4-pca.html#cb261-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 7  &quot;$ind&quot;             &quot;results for the individuals&quot;        </span></span>
<span id="cb261-15"><a href="9.4-pca.html#cb261-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 8  &quot;$ind$coord&quot;       &quot;coord. for the individuals&quot;         </span></span>
<span id="cb261-16"><a href="9.4-pca.html#cb261-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 9  &quot;$ind$cos2&quot;        &quot;cos2 for the individuals&quot;           </span></span>
<span id="cb261-17"><a href="9.4-pca.html#cb261-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 &quot;$ind$contrib&quot;     &quot;contributions of the individuals&quot;   </span></span>
<span id="cb261-18"><a href="9.4-pca.html#cb261-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 11 &quot;$call&quot;            &quot;summary statistics&quot;                 </span></span>
<span id="cb261-19"><a href="9.4-pca.html#cb261-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 12 &quot;$call$centre&quot;     &quot;mean of the variables&quot;              </span></span>
<span id="cb261-20"><a href="9.4-pca.html#cb261-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 13 &quot;$call$ecart.type&quot; &quot;standard error of the variables&quot;    </span></span>
<span id="cb261-21"><a href="9.4-pca.html#cb261-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 14 &quot;$call$row.w&quot;      &quot;weights for the individuals&quot;        </span></span>
<span id="cb261-22"><a href="9.4-pca.html#cb261-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 15 &quot;$call$col.w&quot;      &quot;weights for the variables&quot;</span></span></code></pre></div>
<p>Das Ergebnis der Funktion <code>PCA()</code> ist eine Liste mit verschiedenen Komponenten.</p>
<p>Wichtige FUnktionen in dem factoextra package lauten:</p>
<ul>
<li>get_eigenvalue(res.pca): Extrahiert Eigenvalues/Varianz der PC</li>
<li>fviz_eig(res.pca): Visualisiert die Eigenvalues</li>
<li>get_pca_ind(res.pca), get_pca_var(res.pca): Extrahiert das Ergenis spezieller Variablen</li>
<li>fviz_pca_ind(res.pca), fviz_pca_var(res.pca): Visualisiert das Ergenis spezieller Variablen</li>
<li>fviz_pca_biplot(res.pca): Biplot individueller Variablen</li>
</ul>
</div>
<div id="eigenvalues" class="section level3" number="9.4.3">
<h3><span class="header-section-number">9.4.3</span> Eigenvalues</h3>
<p>Eigenvalues messen die St√§rke der Variation jeder PC.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="9.4-pca.html#cb262-1" aria-hidden="true" tabindex="-1"></a>eig.val <span class="ot">&lt;-</span> <span class="fu">get_eigenvalue</span>(pca)</span>
<span id="cb262-2"><a href="9.4-pca.html#cb262-2" aria-hidden="true" tabindex="-1"></a>eig.val <span class="sc">%&gt;%</span></span>
<span id="cb262-3"><a href="9.4-pca.html#cb262-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb262-4"><a href="9.4-pca.html#cb262-4" aria-hidden="true" tabindex="-1"></a><span class="do">##       eigenvalue variance.percent cumulative.variance.percent</span></span>
<span id="cb262-5"><a href="9.4-pca.html#cb262-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Dim.1 22.0353186        53.744680                    53.74468</span></span>
<span id="cb262-6"><a href="9.4-pca.html#cb262-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Dim.2 10.7046683        26.108947                    79.85363</span></span>
<span id="cb262-7"><a href="9.4-pca.html#cb262-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Dim.3  2.0512772         5.003115                    84.85674</span></span>
<span id="cb262-8"><a href="9.4-pca.html#cb262-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Dim.4  1.5700885         3.829484                    88.68623</span></span>
<span id="cb262-9"><a href="9.4-pca.html#cb262-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Dim.5  0.9291947         2.266328                    90.95255</span></span></code></pre></div>
<p>F√ºr den Ecuador Datensatz erkl√§ren die Eigenvalues der ersten zwei PCs 83% der Varianz (das ist viel). Wieviele PCs f√ºr die Auswahl der PCA wichtig sind l√§sst sich nicht objektiv sagen. Eine M√∂glichkeit ist es einen Wert festzulegen, mit dem man selber zufrieden ist:</p>
<blockquote>
<p>You can also limit the number of component to that number that accounts for a certain fraction of the total variance. For example, if you are satisfied with 70% of the total variance explained then use the number of components to achieve that. (Kaiser 1961)</p>
</blockquote>
<p>Eine graphische Darstellung der Eigenvalue ist auch eine M√∂glichkeit:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="9.4-pca.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_eig</span>(pca, <span class="at">addlabels =</span> T, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">60</span>))</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-277-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>In der Darstellung sind die EIgenvalues absteigend sortiert und man w√§hlt den Punkt aus, wo die vebleibenden Eigenvalues gleichbleibend klein bleiben (in unserem Fall ab der dritten PC).</p>
</div>
<div id="darstellen-der-ergebnisse" class="section level3" number="9.4.4">
<h3><span class="header-section-number">9.4.4</span> Darstellen der Ergebnisse</h3>
<p>Die einfachste Methode ist mit der Funktion <code>get_pca_var()</code>.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="9.4-pca.html#cb264-1" aria-hidden="true" tabindex="-1"></a>var <span class="ot">&lt;-</span> <span class="fu">get_pca_var</span>(pca)</span>
<span id="cb264-2"><a href="9.4-pca.html#cb264-2" aria-hidden="true" tabindex="-1"></a>var</span>
<span id="cb264-3"><a href="9.4-pca.html#cb264-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Principal Component Analysis Results for variables</span></span>
<span id="cb264-4"><a href="9.4-pca.html#cb264-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  ===================================================</span></span>
<span id="cb264-5"><a href="9.4-pca.html#cb264-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   Name       Description                                    </span></span>
<span id="cb264-6"><a href="9.4-pca.html#cb264-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 &quot;$coord&quot;   &quot;Coordinates for the variables&quot;                </span></span>
<span id="cb264-7"><a href="9.4-pca.html#cb264-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 &quot;$cor&quot;     &quot;Correlations between variables and dimensions&quot;</span></span>
<span id="cb264-8"><a href="9.4-pca.html#cb264-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 &quot;$cos2&quot;    &quot;Cos2 for the variables&quot;                       </span></span>
<span id="cb264-9"><a href="9.4-pca.html#cb264-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 &quot;$contrib&quot; &quot;contributions of the variables&quot;</span></span></code></pre></div>
<p>Die vier verschiedenen Komponenten von <code>get_pca_var()</code> k√∂nnen genutzt werden um die Ergebnisse auf verschiedenen Art darzustellen:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="9.4-pca.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Coordinates</span></span>
<span id="cb265-2"><a href="9.4-pca.html#cb265-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(var<span class="sc">$</span>coord)</span>
<span id="cb265-3"><a href="9.4-pca.html#cb265-3" aria-hidden="true" tabindex="-1"></a><span class="do">##              Dim.1       Dim.2      Dim.3       Dim.4        Dim.5</span></span>
<span id="cb265-4"><a href="9.4-pca.html#cb265-4" aria-hidden="true" tabindex="-1"></a><span class="do">## som     -0.9035830 0.401687675 0.02396744  0.04367303  0.007574548</span></span>
<span id="cb265-5"><a href="9.4-pca.html#cb265-5" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc     -0.4272716 0.818221888 0.23566053  0.01842607  0.228960043</span></span>
<span id="cb265-6"><a href="9.4-pca.html#cb265-6" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc_ma   0.9311431 0.009632107 0.06882345  0.31524171 -0.038210767</span></span>
<span id="cb265-7"><a href="9.4-pca.html#cb265-7" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc_som  0.1897357 0.870939967 0.25573775 -0.10827495  0.234158268</span></span>
<span id="cb265-8"><a href="9.4-pca.html#cb265-8" aria-hidden="true" tabindex="-1"></a><span class="do">## hwsc    -0.4664379 0.858078439 0.11239753  0.02954132  0.055621320</span></span>
<span id="cb265-9"><a href="9.4-pca.html#cb265-9" aria-hidden="true" tabindex="-1"></a><span class="do">## hwsc_ma  0.9266593 0.008194929 0.09076181  0.30533813 -0.039134670</span></span>
<span id="cb265-10"><a href="9.4-pca.html#cb265-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Cos2: Quality on the factore map</span></span>
<span id="cb265-11"><a href="9.4-pca.html#cb265-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(var<span class="sc">$</span>cos2)</span>
<span id="cb265-12"><a href="9.4-pca.html#cb265-12" aria-hidden="true" tabindex="-1"></a><span class="do">##              Dim.1        Dim.2        Dim.3        Dim.4        Dim.5</span></span>
<span id="cb265-13"><a href="9.4-pca.html#cb265-13" aria-hidden="true" tabindex="-1"></a><span class="do">## som     0.81646222 1.613530e-01 0.0005744384 0.0019073332 5.737378e-05</span></span>
<span id="cb265-14"><a href="9.4-pca.html#cb265-14" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc     0.18256102 6.694871e-01 0.0555358864 0.0003395199 5.242270e-02</span></span>
<span id="cb265-15"><a href="9.4-pca.html#cb265-15" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc_ma  0.86702742 9.277748e-05 0.0047366671 0.0993773365 1.460063e-03</span></span>
<span id="cb265-16"><a href="9.4-pca.html#cb265-16" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc_som 0.03599964 7.585364e-01 0.0654017962 0.0117234644 5.483009e-02</span></span>
<span id="cb265-17"><a href="9.4-pca.html#cb265-17" aria-hidden="true" tabindex="-1"></a><span class="do">## hwsc    0.21756428 7.362986e-01 0.0126332053 0.0008726898 3.093731e-03</span></span>
<span id="cb265-18"><a href="9.4-pca.html#cb265-18" aria-hidden="true" tabindex="-1"></a><span class="do">## hwsc_ma 0.85869745 6.715687e-05 0.0082377069 0.0932313730 1.531522e-03</span></span>
<span id="cb265-19"><a href="9.4-pca.html#cb265-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Contribution to the PCA</span></span>
<span id="cb265-20"><a href="9.4-pca.html#cb265-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(var<span class="sc">$</span>contrib)</span>
<span id="cb265-21"><a href="9.4-pca.html#cb265-21" aria-hidden="true" tabindex="-1"></a><span class="do">##             Dim.1        Dim.2      Dim.3      Dim.4      Dim.5</span></span>
<span id="cb265-22"><a href="9.4-pca.html#cb265-22" aria-hidden="true" tabindex="-1"></a><span class="do">## som     3.7052436 1.5073142260 0.02800394 0.12147935 0.00617457</span></span>
<span id="cb265-23"><a href="9.4-pca.html#cb265-23" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc     0.8284928 6.2541597721 2.70738089 0.02162425 5.64173514</span></span>
<span id="cb265-24"><a href="9.4-pca.html#cb265-24" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc_ma  3.9347170 0.0008667011 0.23091307 6.32940986 0.15713206</span></span>
<span id="cb265-25"><a href="9.4-pca.html#cb265-25" aria-hidden="true" tabindex="-1"></a><span class="do">## wsc_som 0.1633725 7.0860339197 3.18834513 0.74667539 5.90081897</span></span>
<span id="cb265-26"><a href="9.4-pca.html#cb265-26" aria-hidden="true" tabindex="-1"></a><span class="do">## hwsc    0.9873435 6.8782944667 0.61587022 0.05558220 0.33294759</span></span>
<span id="cb265-27"><a href="9.4-pca.html#cb265-27" aria-hidden="true" tabindex="-1"></a><span class="do">## hwsc_ma 3.8969142 0.0006273606 0.40158917 5.93796928 0.16482256</span></span></code></pre></div>
<div id="darstellung-im-koordinatensystem" class="section level4" number="9.4.4.1">
<h4><span class="header-section-number">9.4.4.1</span> Darstellung im Koordinatensystem</h4>
<p>Um die Variablen im Koordinatensystem darzustellen eignet sich der folgende Befehl:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="9.4-pca.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_var</span>(pca, <span class="at">repel =</span> T)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-280-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Dieser Plot wird auch als <strong>Variable correlation plot</strong> bezeichnet und zeigt die Beziehung zwischen den Variablen:</p>
<ul>
<li>Positiv korrelierte Variablen clustern zusammen * Negativ korrelierte Variablen sind gegen√ºber positioniert (gegen√ºberliegende Quadranten)</li>
<li>Der Abstand der Variable zum Zentrum des Kreises stellt die Qualit√§t der Variable auf der factor map da. Weit entfernte Variablen werden auf der factor map besser dargestellt.</li>
</ul>
<p>Die Qualit√§t der Darstellung wird √ºber <strong>cos2</strong> definiert (quadrierter Cosinus, quadrierte Koordinaten). Darstellen kann man den Zusammenhang als barplot:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="9.4-pca.html#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cos2</span>(pca, <span class="at">choice =</span> <span class="st">&quot;var&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-281-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Ein gro√üer cos2 Wert bedeutet eine gute Repr√§sentation der Variable auf der PC. In diesem Fall ist die Variable nah am Kreisumfang positioniert.
Ein niedriger co2 Wert bedeutet, dass die Variable nicht perfekt dargestellt wird, wobei die Variable n√§her am Zentrum des Kreises liegt. Die Summe des cos2 einer Variable auf allen PCs ist = 1.
Wenn eine Variable also perfekt durch nur zwei PCs dargestellt wird, dann ist der cos2 Werte ~1 und die Variable liegt nah am Kreisumfang. Wozu ist der cos2 also wichtig?</p>
<ul>
<li>Beschreibt die QUalit√§t der Darstellung</li>
<li>Je n√§her die Variable am Kreisumfang desto besser wird diese Variable auf der factor map dargestellt.</li>
<li>Variablen nahe des Kreiszentrums tragen wenig zur ersten PC bei</li>
</ul>
<p>Die QUalit√§t der Variable kann auch farblich dargestellt werden:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="9.4-pca.html#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_var</span>(pca, <span class="at">col.var =</span> <span class="st">&quot;cos2&quot;</span>, <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>), </span>
<span id="cb268-2"><a href="9.4-pca.html#cb268-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span> <span class="co"># Avoid text overlapping</span></span>
<span id="cb268-3"><a href="9.4-pca.html#cb268-3" aria-hidden="true" tabindex="-1"></a>             )</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-282-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="beitrag-einer-variable-zur-pca" class="section level4" number="9.4.4.2">
<h4><span class="header-section-number">9.4.4.2</span> Beitrag einer Variable zur PCA</h4>
<p>Der Beitrag einer Variable f√ºr die Variabilit√§t einer PC wird in % angegeben.</p>
<ul>
<li>Variablen die mit PC1 (Dim.1) und PC2 (Dim.2) korreliert sind haben die gr√∂√üte Bedeutung um die Variabilit√§t im Datensatz zu erkl√§ren.</li>
<li>Variablen die mit keiner PC korrelieren haben den geringsten Beitrag</li>
</ul>
<p>üí° Um die Aussage einer PCA zu verst√§rken k√∂nnen Variablen mit einem geringen Beitrag von der Analyse ausgeschlossen werden.</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="9.4-pca.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the variables contributing to PC1</span></span>
<span id="cb269-2"><a href="9.4-pca.html#cb269-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_contrib</span>(pca, <span class="at">choice =</span> <span class="st">&quot;var&quot;</span>, <span class="at">axes =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-283-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="9.4-pca.html#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the variables contributing to PC2</span></span>
<span id="cb270-2"><a href="9.4-pca.html#cb270-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_contrib</span>(pca, <span class="at">choice =</span> <span class="st">&quot;var&quot;</span>, <span class="at">axes =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-283-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="9.4-pca.html#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the variables contributing to PC1 AND PC2</span></span>
<span id="cb271-2"><a href="9.4-pca.html#cb271-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_contrib</span>(pca, <span class="at">choice =</span> <span class="st">&quot;var&quot;</span>, <span class="at">axes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-283-3.png" width="100%" style="display: block; margin: auto;" /></p>
<p>SOM, pH und hwsc tragen am meisten zu PC1 und PC2 bei, die mineralogischen Kennwerte des Eisens spielen eine untergeordnete Rolle.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="9.4-pca.html#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_var</span>(pca, <span class="at">col.var =</span> <span class="st">&quot;contrib&quot;</span>, <span class="at">repel =</span> T, <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>))</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-284-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Je n√§her der Pfeil am Kreisumfang positioniert ist, desto gr√∂√üer ist der Beitrag einer Variable f√ºr die Separierung der Daten.</p>
</div>
<div id="darstellen-der-individuen-in-der-pca" class="section level4" number="9.4.4.3">
<h4><span class="header-section-number">9.4.4.3</span> Darstellen der Individuen in der PCA</h4>
<p>Die Informationen der Individuen k√∂nnen mit der Funktion <code>get_pca_ind()</code> abgerufen werden.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="9.4-pca.html#cb273-1" aria-hidden="true" tabindex="-1"></a>ind <span class="ot">&lt;-</span> <span class="fu">get_pca_ind</span>(pca)</span>
<span id="cb273-2"><a href="9.4-pca.html#cb273-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Coordinates of individuals</span></span>
<span id="cb273-3"><a href="9.4-pca.html#cb273-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ind<span class="sc">$</span>coord)</span>
<span id="cb273-4"><a href="9.4-pca.html#cb273-4" aria-hidden="true" tabindex="-1"></a><span class="do">##       Dim.1      Dim.2      Dim.3      Dim.4      Dim.5</span></span>
<span id="cb273-5"><a href="9.4-pca.html#cb273-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 -3.555229  6.1901987 0.36582084  0.2385691  0.4755535</span></span>
<span id="cb273-6"><a href="9.4-pca.html#cb273-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 -1.853013 -0.1218242 1.25100363 -1.8782000 -0.3163522</span></span>
<span id="cb273-7"><a href="9.4-pca.html#cb273-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 -1.640374 -1.1297505 0.72048321 -0.9106315 -0.1500884</span></span>
<span id="cb273-8"><a href="9.4-pca.html#cb273-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 -2.135484  6.8982505 0.08300526  0.1573187  0.4908759</span></span>
<span id="cb273-9"><a href="9.4-pca.html#cb273-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 -1.465293  0.1039718 0.85549779 -1.3135040 -0.4857763</span></span>
<span id="cb273-10"><a href="9.4-pca.html#cb273-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 -1.196337 -2.4444755 0.78528722 -0.6925059  0.6547019</span></span>
<span id="cb273-11"><a href="9.4-pca.html#cb273-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Quality of individuals</span></span>
<span id="cb273-12"><a href="9.4-pca.html#cb273-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ind<span class="sc">$</span>cos2)</span>
<span id="cb273-13"><a href="9.4-pca.html#cb273-13" aria-hidden="true" tabindex="-1"></a><span class="do">##        Dim.1       Dim.2        Dim.3        Dim.4       Dim.5</span></span>
<span id="cb273-14"><a href="9.4-pca.html#cb273-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 0.23462355 0.711288225 0.0024841244 0.0010564888 0.004197930</span></span>
<span id="cb273-15"><a href="9.4-pca.html#cb273-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 0.28017327 0.001210980 0.1276987925 0.2878414594 0.008166037</span></span>
<span id="cb273-16"><a href="9.4-pca.html#cb273-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 0.23813244 0.112952985 0.0459388781 0.0733868052 0.001993549</span></span>
<span id="cb273-17"><a href="9.4-pca.html#cb273-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 0.07515351 0.784213920 0.0001135449 0.0004078658 0.003971002</span></span>
<span id="cb273-18"><a href="9.4-pca.html#cb273-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 0.30414848 0.001531328 0.1036751558 0.2443991716 0.033427938</span></span>
<span id="cb273-19"><a href="9.4-pca.html#cb273-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 0.09606433 0.401075715 0.0413915834 0.0321885866 0.028770156</span></span>
<span id="cb273-20"><a href="9.4-pca.html#cb273-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Contributions of individuals</span></span>
<span id="cb273-21"><a href="9.4-pca.html#cb273-21" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ind<span class="sc">$</span>contrib)</span>
<span id="cb273-22"><a href="9.4-pca.html#cb273-22" aria-hidden="true" tabindex="-1"></a><span class="do">##       Dim.1        Dim.2       Dim.3      Dim.4      Dim.5</span></span>
<span id="cb273-23"><a href="9.4-pca.html#cb273-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 1.3036565  8.135482080 0.148272248 0.08238567 0.55314543</span></span>
<span id="cb273-24"><a href="9.4-pca.html#cb273-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 0.3541482  0.003150948 1.733964139 5.10630656 0.24478359</span></span>
<span id="cb273-25"><a href="9.4-pca.html#cb273-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 0.2775325  0.270981201 0.575136197 1.20035171 0.05509788</span></span>
<span id="cb273-26"><a href="9.4-pca.html#cb273-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 0.4703494 10.103039065 0.007633684 0.03582480 0.58936466</span></span>
<span id="cb273-27"><a href="9.4-pca.html#cb273-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 0.2214505  0.002295120 0.810887778 2.49738790 0.57718269</span></span>
<span id="cb273-28"><a href="9.4-pca.html#cb273-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 0.1476166  1.268660714 0.683250614 0.69417683 1.04840204</span></span></code></pre></div>
<p>Plots: Quality and contribution</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="9.4-pca.html#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_ind</span>(pca, <span class="at">repel =</span> T)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-286-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Individuen k√∂nnen auch nach dem cos2 Wert gruppiert werden</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="9.4-pca.html#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by color</span></span>
<span id="cb275-2"><a href="9.4-pca.html#cb275-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_ind</span>(pca, <span class="at">col.ind =</span> <span class="st">&quot;cos2&quot;</span>, </span>
<span id="cb275-3"><a href="9.4-pca.html#cb275-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>),</span>
<span id="cb275-4"><a href="9.4-pca.html#cb275-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span> <span class="co"># Avoid text overlapping (slow if many points)</span></span>
<span id="cb275-5"><a href="9.4-pca.html#cb275-5" aria-hidden="true" tabindex="-1"></a>             )</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-287-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>üí° Individuen mit √§hnlichen Eigenschaften werden zusammen gruppiert.</p>
<p>Um den Anteil (contribution) der ersten zwei PC (DIM.1 und DIM.2) darzustellen schreibe:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="9.4-pca.html#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_contrib</span>(pca, <span class="at">choice =</span> <span class="st">&quot;ind&quot;</span>, <span class="at">axes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-288-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Die Proben 39,42,36,37 tragen am meisten f√ºr die Separierung der Daten bei, die Proben 2,3,5 am wenigsten.</p>
</div>
<div id="farbliche-darstellung" class="section level4" number="9.4.4.4">
<h4><span class="header-section-number">9.4.4.4</span> Farbliche Darstellung</h4>
<p>Wie f√ºr Variablen k√∂nnen auch Individuen farblich dargestellt werden, bspw. nach Kategorien gruppiert werden (Standort, Tiefe). Argument <code>habillage</code> oder <code>col.ind</code> kann genutzt werden um Individuen nach Gruppen darzustellen. Um eine Ellipse zu erzeugen kann <code>addEllipses = T</code> gesetzt werden:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="9.4-pca.html#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create one data frame with the data</span></span>
<span id="cb277-2"><a href="9.4-pca.html#cb277-2" aria-hidden="true" tabindex="-1"></a>df_pca <span class="ot">&lt;-</span> df_ec <span class="sc">%&gt;%</span></span>
<span id="cb277-3"><a href="9.4-pca.html#cb277-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(site_name, depth, som<span class="sc">:</span>P2O5, <span class="sc">-</span>mat_amorph, <span class="sc">-</span>index) <span class="sc">%&gt;%</span></span>
<span id="cb277-4"><a href="9.4-pca.html#cb277-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="co"># Mit dem Befehl werden NA Werte aus den Daten entfernt...wichtig (!) bevor die PCA durchgef√ºhrt werden kann</span></span>
<span id="cb277-5"><a href="9.4-pca.html#cb277-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create one data frame only for the grouping variable</span></span>
<span id="cb277-6"><a href="9.4-pca.html#cb277-6" aria-hidden="true" tabindex="-1"></a>df_var <span class="ot">&lt;-</span> df_pca <span class="sc">%&gt;%</span></span>
<span id="cb277-7"><a href="9.4-pca.html#cb277-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(site_name, depth)</span>
<span id="cb277-8"><a href="9.4-pca.html#cb277-8" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> <span class="fu">PCA</span>(df_pca[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)], <span class="at">scale.unit =</span> T, <span class="at">ncp =</span> <span class="dv">5</span>, <span class="at">graph =</span> F) <span class="co"># Makes the PCA but without the site_name and depth grouping value</span></span>
<span id="cb277-9"><a href="9.4-pca.html#cb277-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Gruppieren nach Standort</span></span>
<span id="cb277-10"><a href="9.4-pca.html#cb277-10" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_ind</span>(pca,</span>
<span id="cb277-11"><a href="9.4-pca.html#cb277-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.ind =</span> df_var<span class="sc">$</span>site_name, <span class="co"># color by site_name</span></span>
<span id="cb277-12"><a href="9.4-pca.html#cb277-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">addEllipses =</span> <span class="cn">TRUE</span>, <span class="co"># Concentration ellipses</span></span>
<span id="cb277-13"><a href="9.4-pca.html#cb277-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">label=</span> <span class="st">&quot;var&quot;</span>,</span>
<span id="cb277-14"><a href="9.4-pca.html#cb277-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">legend.title =</span> <span class="st">&quot;Plot&quot;</span>,</span>
<span id="cb277-15"><a href="9.4-pca.html#cb277-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span> <span class="co"># to not have overlapping text in the figure</span></span>
<span id="cb277-16"><a href="9.4-pca.html#cb277-16" aria-hidden="true" tabindex="-1"></a>             )</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-289-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="9.4-pca.html#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gruppieren nach Tiefe</span></span>
<span id="cb278-2"><a href="9.4-pca.html#cb278-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_ind</span>(pca,</span>
<span id="cb278-3"><a href="9.4-pca.html#cb278-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">geom.var =</span> <span class="st">&quot;arrow&quot;</span>,</span>
<span id="cb278-4"><a href="9.4-pca.html#cb278-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.ind =</span> df_var<span class="sc">$</span>depth, <span class="co"># color by depth</span></span>
<span id="cb278-5"><a href="9.4-pca.html#cb278-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">addEllipses =</span> <span class="cn">TRUE</span>, <span class="co"># Concentration ellipses</span></span>
<span id="cb278-6"><a href="9.4-pca.html#cb278-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">label=</span> <span class="st">&quot;var&quot;</span>,</span>
<span id="cb278-7"><a href="9.4-pca.html#cb278-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">legend.title =</span> <span class="st">&quot;Plot&quot;</span>,</span>
<span id="cb278-8"><a href="9.4-pca.html#cb278-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span> <span class="co"># to not have overlapping text in the figure</span></span>
<span id="cb278-9"><a href="9.4-pca.html#cb278-9" aria-hidden="true" tabindex="-1"></a>             )</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-289-2.png" width="100%" style="display: block; margin: auto;" /></p>
<p>In diese Darstellung flie√üen ALLE numerischen Variablen des Datensatzes ein. Die Paramo-Standorte clustern sehr sch√∂n zusammen und es gibt eine Separierung von AC1 und AC2. Besonders AC2 unterscheidet sich signifikant. Ein sehr sch√∂nes Ergebnis, dass den Einfluss von 100 Jahren landwirtschaftliche Nutzung hervorhebt.</p>
</div>
<div id="figure" class="section level4" number="9.4.4.5">
<h4><span class="header-section-number">9.4.4.5</span> Figure</h4>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="9.4-pca.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gruppieren nach Standort</span></span>
<span id="cb279-2"><a href="9.4-pca.html#cb279-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pca,</span>
<span id="cb279-3"><a href="9.4-pca.html#cb279-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.ind =</span> df_var<span class="sc">$</span>site_name, <span class="co"># color by site_name</span></span>
<span id="cb279-4"><a href="9.4-pca.html#cb279-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">addEllipses =</span> <span class="cn">TRUE</span>, <span class="co"># Concentration ellipses</span></span>
<span id="cb279-5"><a href="9.4-pca.html#cb279-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">label=</span> <span class="st">&quot;var&quot;</span>,</span>
<span id="cb279-6"><a href="9.4-pca.html#cb279-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">legend.title =</span> <span class="st">&quot;Plot&quot;</span>,</span>
<span id="cb279-7"><a href="9.4-pca.html#cb279-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span> <span class="co"># to not have overlapping text in the figure</span></span>
<span id="cb279-8"><a href="9.4-pca.html#cb279-8" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb279-9"><a href="9.4-pca.html#cb279-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Gruppieren nach Tiefe</span></span>
<span id="cb279-10"><a href="9.4-pca.html#cb279-10" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pca,</span>
<span id="cb279-11"><a href="9.4-pca.html#cb279-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">geom.var =</span> <span class="st">&quot;arrow&quot;</span>,</span>
<span id="cb279-12"><a href="9.4-pca.html#cb279-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.ind =</span> df_var<span class="sc">$</span>depth, <span class="co"># color by depth</span></span>
<span id="cb279-13"><a href="9.4-pca.html#cb279-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">addEllipses =</span> <span class="cn">TRUE</span>, <span class="co"># Concentration ellipses</span></span>
<span id="cb279-14"><a href="9.4-pca.html#cb279-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">label=</span> <span class="st">&quot;var&quot;</span>,</span>
<span id="cb279-15"><a href="9.4-pca.html#cb279-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">legend.title =</span> <span class="st">&quot;Depth&quot;</span>,</span>
<span id="cb279-16"><a href="9.4-pca.html#cb279-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span> <span class="co"># to not have overlapping text in the figure</span></span>
<span id="cb279-17"><a href="9.4-pca.html#cb279-17" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb279-18"><a href="9.4-pca.html#cb279-18" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">&quot;A&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-290-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="9.4-pca.html#cb280-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-2"><a href="9.4-pca.html#cb280-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;images/results/PCA_1.png&quot;</span>, <span class="at">width =</span> <span class="dv">12</span>, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb280-3"><a href="9.4-pca.html#cb280-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-4"><a href="9.4-pca.html#cb280-4" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_biplot</span>(pca, <span class="at">repel =</span> <span class="cn">TRUE</span>,<span class="co">#to not have overlapping text</span></span>
<span id="cb280-5"><a href="9.4-pca.html#cb280-5" aria-hidden="true" tabindex="-1"></a>                <span class="co">#variables</span></span>
<span id="cb280-6"><a href="9.4-pca.html#cb280-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">col.var =</span> <span class="st">&quot;contrib&quot;</span>,<span class="co"># colour variables according to their contribution to the variance between the axes</span></span>
<span id="cb280-7"><a href="9.4-pca.html#cb280-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>),</span>
<span id="cb280-8"><a href="9.4-pca.html#cb280-8" aria-hidden="true" tabindex="-1"></a>               <span class="co">#individuals</span></span>
<span id="cb280-9"><a href="9.4-pca.html#cb280-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>,<span class="co">#using point shape for our indidividual data points</span></span>
<span id="cb280-10"><a href="9.4-pca.html#cb280-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill.ind =</span> df_var<span class="sc">$</span>site_name, <span class="at">col.ind =</span> <span class="st">&quot;black&quot;</span>, <span class="co">#group and colour according to plot and black border of points</span></span>
<span id="cb280-11"><a href="9.4-pca.html#cb280-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">pointshape =</span> <span class="dv">21</span>, <span class="at">pointsize =</span> <span class="dv">2</span>,<span class="co">#pointshape 21 is the circel with 2 differing colours important for visibility, pointsize can be adjusted if you want</span></span>
<span id="cb280-12"><a href="9.4-pca.html#cb280-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;#c7e9c0&quot;</span>,<span class="st">&quot;#41ab5d&quot;</span>,<span class="st">&quot;#006d2c&quot;</span>),<span class="co"># maybe adjust the colour setting here, I tried to take similar colours to before</span></span>
<span id="cb280-13"><a href="9.4-pca.html#cb280-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">addEllipses =</span> <span class="cn">TRUE</span>,<span class="co"># addinf ellipses to our group of individual data points</span></span>
<span id="cb280-14"><a href="9.4-pca.html#cb280-14" aria-hidden="true" tabindex="-1"></a>               <span class="co">#supplements</span></span>
<span id="cb280-15"><a href="9.4-pca.html#cb280-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">legend.title =</span> <span class="fu">list</span>(<span class="at">fill=</span><span class="st">&quot;Plot&quot;</span>,<span class="at">color =</span> <span class="st">&quot;Contribution&quot;</span>))<span class="co">#customizing our legend</span></span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-290-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="9.4-pca.html#cb281-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-2"><a href="9.4-pca.html#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;images/results/PCA_2.png&quot;</span>, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">9</span>)</span></code></pre></div>

</div>
</div>
</div>
<!-- </div> -->
<p style="text-align: center;">
<a href="9.3-korrelationen.html"><button class="btn btn-default">Previous</button></a>
<a href="10-datenmanagement.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
