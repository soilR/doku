<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.7 Formen der Darstellung | Daten Analyse mit RStudio - Dokumentation</title>
  <meta name="description" content="Explorative Datenanalyse in den Geowissenschaften" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="6.7 Formen der Darstellung | Daten Analyse mit RStudio - Dokumentation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Explorative Datenanalyse in den Geowissenschaften" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.7 Formen der Darstellung | Daten Analyse mit RStudio - Dokumentation" />
  
  <meta name="twitter:description" content="Explorative Datenanalyse in den Geowissenschaften" />
  

<meta name="author" content="Dr. Kristof Dorau" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="speichern-eines-plots.html"/>
<link rel="next" href="farbauswahl.html"/>
<script src="assets/header-attrs-2.11/header-attrs.js"></script>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="assets/twitter-widget-0.0.1/widgets.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Einleitung</a>
<ul>
<li class="chapter" data-level="1.1" data-path="syntax-und-stilistische-mittel-der-dokumentation.html"><a href="syntax-und-stilistische-mittel-der-dokumentation.html"><i class="fa fa-check"></i><b>1.1</b> Syntax und stilistische Mittel der Dokumentation</a></li>
<li class="chapter" data-level="1.2" data-path="falbeispiele.html"><a href="falbeispiele.html"><i class="fa fa-check"></i><b>1.2</b> Falbeispiele</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="falbeispiele.html"><a href="falbeispiele.html#speicherkoog"><i class="fa fa-check"></i><b>1.2.1</b> Speicherkoog</a></li>
<li class="chapter" data-level="1.2.2" data-path="falbeispiele.html"><a href="falbeispiele.html#mtcars-datensatz"><i class="fa fa-check"></i><b>1.2.2</b> <code>mtcars</code> Datensatz</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="über-mich.html"><a href="über-mich.html"><i class="fa fa-check"></i><b>1.3</b> Über mich</a></li>
<li class="chapter" data-level="1.4" data-path="literatur.html"><a href="literatur.html"><i class="fa fa-check"></i><b>1.4</b> Literatur</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="erste-schritte-mit-r.html"><a href="erste-schritte-mit-r.html"><i class="fa fa-check"></i><b>2</b> Erste Schritte mit R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2.1</b> Installation</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="installation.html"><a href="installation.html#r"><i class="fa fa-check"></i><b>2.1.1</b> R</a></li>
<li class="chapter" data-level="2.1.2" data-path="installation.html"><a href="installation.html#rstudio"><i class="fa fa-check"></i><b>2.1.2</b> RStudio</a></li>
<li class="chapter" data-level="2.1.3" data-path="installation.html"><a href="installation.html#packages---das-tidyverse"><i class="fa fa-check"></i><b>2.1.3</b> Packages - das tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rstudio-benutzeroberfläche.html"><a href="rstudio-benutzeroberfläche.html"><i class="fa fa-check"></i><b>2.2</b> RStudio Benutzeroberfläche</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rstudio-benutzeroberfläche.html"><a href="rstudio-benutzeroberfläche.html#source"><i class="fa fa-check"></i><b>2.2.1</b> Source</a></li>
<li class="chapter" data-level="2.2.2" data-path="rstudio-benutzeroberfläche.html"><a href="rstudio-benutzeroberfläche.html#konsole"><i class="fa fa-check"></i><b>2.2.2</b> Konsole</a></li>
<li class="chapter" data-level="2.2.3" data-path="rstudio-benutzeroberfläche.html"><a href="rstudio-benutzeroberfläche.html#environment"><i class="fa fa-check"></i><b>2.2.3</b> Environment</a></li>
<li class="chapter" data-level="2.2.4" data-path="rstudio-benutzeroberfläche.html"><a href="rstudio-benutzeroberfläche.html#files-plots-packages-help"><i class="fa fa-check"></i><b>2.2.4</b> Files / Plots / Packages / Help</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="code-lesen-und-schreiben.html"><a href="code-lesen-und-schreiben.html"><i class="fa fa-check"></i><b>2.3</b> Code lesen und schreiben</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="code-lesen-und-schreiben.html"><a href="code-lesen-und-schreiben.html#die-konsole"><i class="fa fa-check"></i><b>2.3.1</b> Die Konsole</a></li>
<li class="chapter" data-level="2.3.2" data-path="code-lesen-und-schreiben.html"><a href="code-lesen-und-schreiben.html#r-skript"><i class="fa fa-check"></i><b>2.3.2</b> R Skript</a></li>
<li class="chapter" data-level="2.3.3" data-path="code-lesen-und-schreiben.html"><a href="code-lesen-und-schreiben.html#good-practice-code-zu-schreiben"><i class="fa fa-check"></i><b>2.3.3</b> Good practice Code zu schreiben</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="objekte-und-funktionen.html"><a href="objekte-und-funktionen.html"><i class="fa fa-check"></i><b>2.4</b> Objekte und Funktionen</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="objekte-und-funktionen.html"><a href="objekte-und-funktionen.html#neue-objekte-erstellen"><i class="fa fa-check"></i><b>2.4.1</b> Neue Objekte erstellen</a></li>
<li class="chapter" data-level="2.4.2" data-path="objekte-und-funktionen.html"><a href="objekte-und-funktionen.html#beispiel-umrechnen-von-c-in-k"><i class="fa fa-check"></i><b>2.4.2</b> Beispiel: Umrechnen von °C in K</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="cheatsheets.html"><a href="cheatsheets.html"><i class="fa fa-check"></i><b>2.5</b> Cheatsheets</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="grundlagen.html"><a href="grundlagen.html"><i class="fa fa-check"></i><b>3</b> Grundlagen</a>
<ul>
<li class="chapter" data-level="3.1" data-path="datentypen.html"><a href="datentypen.html"><i class="fa fa-check"></i><b>3.1</b> Datentypen</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="datentypen.html"><a href="datentypen.html#numerische-objekte"><i class="fa fa-check"></i><b>3.1.1</b> Numerische Objekte</a></li>
<li class="chapter" data-level="3.1.2" data-path="datentypen.html"><a href="datentypen.html#textobjekte"><i class="fa fa-check"></i><b>3.1.2</b> Textobjekte</a></li>
<li class="chapter" data-level="3.1.3" data-path="datentypen.html"><a href="datentypen.html#logicals"><i class="fa fa-check"></i><b>3.1.3</b> Logicals</a></li>
<li class="chapter" data-level="3.1.4" data-path="datentypen.html"><a href="datentypen.html#fehlende-werte"><i class="fa fa-check"></i><b>3.1.4</b> Fehlende Werte</a></li>
<li class="chapter" data-level="3.1.5" data-path="datentypen.html"><a href="datentypen.html#weitere-objekttypen"><i class="fa fa-check"></i><b>3.1.5</b> Weitere Objekttypen</a></li>
<li class="chapter" data-level="3.1.6" data-path="datentypen.html"><a href="datentypen.html#objekttypen-ändern"><i class="fa fa-check"></i><b>3.1.6</b> Objekttypen ändern</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="datenstrukturen.html"><a href="datenstrukturen.html"><i class="fa fa-check"></i><b>3.2</b> Datenstrukturen</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="datenstrukturen.html"><a href="datenstrukturen.html#vektor"><i class="fa fa-check"></i><b>3.2.1</b> Vektor</a></li>
<li class="chapter" data-level="3.2.2" data-path="datenstrukturen.html"><a href="datenstrukturen.html#liste"><i class="fa fa-check"></i><b>3.2.2</b> Liste</a></li>
<li class="chapter" data-level="3.2.3" data-path="datenstrukturen.html"><a href="datenstrukturen.html#matrix-und-dataframe"><i class="fa fa-check"></i><b>3.2.3</b> Matrix und dataframe</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="zufallszahlen-erzeugen.html"><a href="zufallszahlen-erzeugen.html"><i class="fa fa-check"></i><b>3.3</b> Zufallszahlen erzeugen</a></li>
<li class="chapter" data-level="3.4" data-path="rechnen-mit-vektoren.html"><a href="rechnen-mit-vektoren.html"><i class="fa fa-check"></i><b>3.4</b> Rechnen mit Vektoren</a></li>
<li class="chapter" data-level="3.5" data-path="str-funktion.html"><a href="str-funktion.html"><i class="fa fa-check"></i><b>3.5</b> str() Funktion</a></li>
<li class="chapter" data-level="3.6" data-path="selektion-von-spaltenzeilen-in-dataframes.html"><a href="selektion-von-spaltenzeilen-in-dataframes.html"><i class="fa fa-check"></i><b>3.6</b> Selektion von Spalten/Zeilen in dataframes</a></li>
<li class="chapter" data-level="3.7" data-path="erstellen-von-eigenen-funktionen.html"><a href="erstellen-von-eigenen-funktionen.html"><i class="fa fa-check"></i><b>3.7</b> Erstellen von eigenen Funktionen</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="erstellen-von-eigenen-funktionen.html"><a href="erstellen-von-eigenen-funktionen.html#speziellere-anwendungen-von-funktionen"><i class="fa fa-check"></i><b>3.7.1</b> Speziellere Anwendungen von Funktionen</a></li>
<li class="chapter" data-level="3.7.2" data-path="erstellen-von-eigenen-funktionen.html"><a href="erstellen-von-eigenen-funktionen.html#nutze-...-als-platzhalter"><i class="fa fa-check"></i><b>3.7.2</b> Nutze <code>...</code> als Platzhalter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wie-lese-ich-daten-ein.html"><a href="wie-lese-ich-daten-ein.html"><i class="fa fa-check"></i><b>4</b> Wie lese ich Daten ein</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>4.1</b> Tidy data</a></li>
<li class="chapter" data-level="4.2" data-path="dateiformate.html"><a href="dateiformate.html"><i class="fa fa-check"></i><b>4.2</b> Dateiformate</a></li>
<li class="chapter" data-level="4.3" data-path="readrread_delim.html"><a href="readrread_delim.html"><i class="fa fa-check"></i><b>4.3</b> readr::read_delim()</a></li>
<li class="chapter" data-level="4.4" data-path="arbeiten-mit-zeiten.html"><a href="arbeiten-mit-zeiten.html"><i class="fa fa-check"></i><b>4.4</b> Arbeiten mit Zeiten</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="explorative-datenanalyse.html"><a href="explorative-datenanalyse.html"><i class="fa fa-check"></i><b>5</b> Explorative-Datenanalyse</a>
<ul>
<li class="chapter" data-level="5.1" data-path="fehlende-werte-1.html"><a href="fehlende-werte-1.html"><i class="fa fa-check"></i><b>5.1</b> Fehlende Werte</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="datenvisualisierung.html"><a href="datenvisualisierung.html"><i class="fa fa-check"></i><b>6</b> Datenvisualisierung</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html"><i class="fa fa-check"></i><b>6.1</b> ggplot2 - grammar of graphics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#schlüsselkomponenten"><i class="fa fa-check"></i><b>6.1.1</b> Schlüsselkomponenten</a></li>
<li class="chapter" data-level="6.1.2" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#aesthetics-color-size-shape"><i class="fa fa-check"></i><b>6.1.2</b> Aesthetics (color, size, shape)</a></li>
<li class="chapter" data-level="6.1.3" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#smoothers-and-models"><i class="fa fa-check"></i><b>6.1.3</b> Smoothers and models</a></li>
<li class="chapter" data-level="6.1.4" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#labels"><i class="fa fa-check"></i><b>6.1.4</b> Labels</a></li>
<li class="chapter" data-level="6.1.5" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#themes"><i class="fa fa-check"></i><b>6.1.5</b> Themes</a></li>
<li class="chapter" data-level="6.1.6" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#facets"><i class="fa fa-check"></i><b>6.1.6</b> Facets</a></li>
<li class="chapter" data-level="6.1.7" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#coordinate-system"><i class="fa fa-check"></i><b>6.1.7</b> Coordinate system</a></li>
<li class="chapter" data-level="6.1.8" data-path="ggplot2---grammar-of-graphics.html"><a href="ggplot2---grammar-of-graphics.html#annotations"><i class="fa fa-check"></i><b>6.1.8</b> Annotations</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="verknüfpen-von-tidyverse-und-ggplot.html"><a href="verknüfpen-von-tidyverse-und-ggplot.html"><i class="fa fa-check"></i><b>6.2</b> Verknüfpen von tidyverse und ggplot</a></li>
<li class="chapter" data-level="6.3" data-path="arbeiten-mit-zeiten-1.html"><a href="arbeiten-mit-zeiten-1.html"><i class="fa fa-check"></i><b>6.3</b> Arbeiten mit Zeiten</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="arbeiten-mit-zeiten-1.html"><a href="arbeiten-mit-zeiten-1.html#strings"><i class="fa fa-check"></i><b>6.3.1</b> strings</a></li>
<li class="chapter" data-level="6.3.2" data-path="arbeiten-mit-zeiten-1.html"><a href="arbeiten-mit-zeiten-1.html#von-individuellen-komponenten"><i class="fa fa-check"></i><b>6.3.2</b> Von individuellen Komponenten</a></li>
<li class="chapter" data-level="6.3.3" data-path="arbeiten-mit-zeiten-1.html"><a href="arbeiten-mit-zeiten-1.html#ein-bestehendes-objekt"><i class="fa fa-check"></i><b>6.3.3</b> Ein bestehendes Objekt</a></li>
<li class="chapter" data-level="6.3.4" data-path="arbeiten-mit-zeiten-1.html"><a href="arbeiten-mit-zeiten-1.html#darstellung-in-abbildungen"><i class="fa fa-check"></i><b>6.3.4</b> Darstellung in Abbildungen</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="pivoting-to-longer-format.html"><a href="pivoting-to-longer-format.html"><i class="fa fa-check"></i><b>6.4</b> pivoting to longer format</a></li>
<li class="chapter" data-level="6.5" data-path="good-practices.html"><a href="good-practices.html"><i class="fa fa-check"></i><b>6.5</b> Good practices</a></li>
<li class="chapter" data-level="6.6" data-path="speichern-eines-plots.html"><a href="speichern-eines-plots.html"><i class="fa fa-check"></i><b>6.6</b> Speichern eines plots</a></li>
<li class="chapter" data-level="6.7" data-path="formen-der-darstellung.html"><a href="formen-der-darstellung.html"><i class="fa fa-check"></i><b>6.7</b> Formen der Darstellung</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="formen-der-darstellung.html"><a href="formen-der-darstellung.html#overplotting"><i class="fa fa-check"></i><b>6.7.1</b> Overplotting</a></li>
<li class="chapter" data-level="6.7.2" data-path="formen-der-darstellung.html"><a href="formen-der-darstellung.html#positions-argument"><i class="fa fa-check"></i><b>6.7.2</b> Positions Argument</a></li>
<li class="chapter" data-level="6.7.3" data-path="formen-der-darstellung.html"><a href="formen-der-darstellung.html#inspirationen"><i class="fa fa-check"></i><b>6.7.3</b> Inspirationen</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="farbauswahl.html"><a href="farbauswahl.html"><i class="fa fa-check"></i><b>6.8</b> Farbauswahl</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="farbauswahl.html"><a href="farbauswahl.html#beispiele-für-unterschiedliche-farben"><i class="fa fa-check"></i><b>6.8.1</b> Beispiele für unterschiedliche Farben</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="karten-erstellen-in-r.html"><a href="karten-erstellen-in-r.html"><i class="fa fa-check"></i><b>7</b> Karten erstellen in R 🌍</a>
<ul>
<li class="chapter" data-level="7.1" data-path="datenquellen.html"><a href="datenquellen.html"><i class="fa fa-check"></i><b>7.1</b> Datenquellen</a></li>
<li class="chapter" data-level="7.2" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>7.2</b> Packages</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="packages.html"><a href="packages.html#rgdal-package"><i class="fa fa-check"></i><b>7.2.1</b> <code>rgdal</code> package</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="übungen.html"><a href="übungen.html"><i class="fa fa-check"></i><b>7.3</b> Übungen</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="übungen.html"><a href="übungen.html#erstelle-eine-karte-der-bundesrepublik"><i class="fa fa-check"></i><b>7.3.1</b> Erstelle eine Karte der Bundesrepublik</a></li>
<li class="chapter" data-level="7.3.2" data-path="übungen.html"><a href="übungen.html#erstelle-eine-weltkarte"><i class="fa fa-check"></i><b>7.3.2</b> Erstelle eine Weltkarte</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="statistische-auswertungen.html"><a href="statistische-auswertungen.html"><i class="fa fa-check"></i><b>8</b> Statistische Auswertungen</a>
<ul>
<li class="chapter" data-level="8.1" data-path="verteilung-der-daten.html"><a href="verteilung-der-daten.html"><i class="fa fa-check"></i><b>8.1</b> Verteilung der Daten</a></li>
<li class="chapter" data-level="8.2" data-path="datentransformation.html"><a href="datentransformation.html"><i class="fa fa-check"></i><b>8.2</b> Datentransformation</a></li>
<li class="chapter" data-level="8.3" data-path="korrelationen.html"><a href="korrelationen.html"><i class="fa fa-check"></i><b>8.3</b> Korrelationen</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="korrelationen.html"><a href="korrelationen.html#pearsons-korrelationkoeffizient-r"><i class="fa fa-check"></i><b>8.3.1</b> Pearson’s Korrelationkoeffizient (r)</a></li>
<li class="chapter" data-level="8.3.2" data-path="korrelationen.html"><a href="korrelationen.html#signifikanztest"><i class="fa fa-check"></i><b>8.3.2</b> Signifikanztest</a></li>
<li class="chapter" data-level="8.3.3" data-path="korrelationen.html"><a href="korrelationen.html#korrelation-vs.-regression"><i class="fa fa-check"></i><b>8.3.3</b> Korrelation vs. Regression</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>8.4</b> PCA</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="pca.html"><a href="pca.html#datenauswahl"><i class="fa fa-check"></i><b>8.4.1</b> Datenauswahl</a></li>
<li class="chapter" data-level="8.4.2" data-path="pca.html"><a href="pca.html#daten-standardisieren"><i class="fa fa-check"></i><b>8.4.2</b> Daten Standardisieren</a></li>
<li class="chapter" data-level="8.4.3" data-path="pca.html"><a href="pca.html#eigenvalues"><i class="fa fa-check"></i><b>8.4.3</b> Eigenvalues</a></li>
<li class="chapter" data-level="8.4.4" data-path="pca.html"><a href="pca.html#darstellen-der-ergebnisse"><i class="fa fa-check"></i><b>8.4.4</b> Darstellen der Ergebnisse</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="datenmanagement.html"><a href="datenmanagement.html"><i class="fa fa-check"></i><b>9</b> Datenmanagement</a></li>
<li class="chapter" data-level="10" data-path="reporting-in-rmarkdown.html"><a href="reporting-in-rmarkdown.html"><i class="fa fa-check"></i><b>10</b> Reporting in Rmarkdown</a>
<ul>
<li class="chapter" data-level="10.1" data-path="mathematische-befehle.html"><a href="mathematische-befehle.html"><i class="fa fa-check"></i><b>10.1</b> Mathematische Befehle</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="mathematische-befehle.html"><a href="mathematische-befehle.html#brüche"><i class="fa fa-check"></i><b>10.1.1</b> Brüche</a></li>
<li class="chapter" data-level="10.1.2" data-path="mathematische-befehle.html"><a href="mathematische-befehle.html#hoch--und-tiefstellung"><i class="fa fa-check"></i><b>10.1.2</b> Hoch- und Tiefstellung</a></li>
<li class="chapter" data-level="10.1.3" data-path="mathematische-befehle.html"><a href="mathematische-befehle.html#quadratwurzel"><i class="fa fa-check"></i><b>10.1.3</b> Quadratwurzel</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>11</b> Github</a>
<ul>
<li class="chapter" data-level="11.1" data-path="projekt-erstellen.html"><a href="projekt-erstellen.html"><i class="fa fa-check"></i><b>11.1</b> Projekt erstellen</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="projekt-erstellen.html"><a href="projekt-erstellen.html#workflow"><i class="fa fa-check"></i><b>11.1.1</b> Workflow</a></li>
<li class="chapter" data-level="11.1.2" data-path="projekt-erstellen.html"><a href="projekt-erstellen.html#synchronisieren-vieler-dateien"><i class="fa fa-check"></i><b>11.1.2</b> Synchronisieren vieler Dateien</a></li>
<li class="chapter" data-level="11.1.3" data-path="projekt-erstellen.html"><a href="projekt-erstellen.html#ordner-lokal-behalten-aber-auf-git-löschen"><i class="fa fa-check"></i><b>11.1.3</b> Ordner lokal behalten aber auf Git löschen</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="cache-säubern.html"><a href="cache-säubern.html"><i class="fa fa-check"></i><b>11.2</b> Cache säubern</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>12</b> Bookdown</a>
<ul>
<li class="chapter" data-level="12.1" data-path="vorbereitung.html"><a href="vorbereitung.html"><i class="fa fa-check"></i><b>12.1</b> Vorbereitung</a></li>
<li class="chapter" data-level="12.2" data-path="github-pages.html"><a href="github-pages.html"><i class="fa fa-check"></i><b>12.2</b> Github pages</a></li>
<li class="chapter" data-level="12.3" data-path="emojiys.html"><a href="emojiys.html"><i class="fa fa-check"></i><b>12.3</b> Emojiys</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="blogdown.html"><a href="blogdown.html"><i class="fa fa-check"></i><b>13</b> Blogdown</a>
<ul>
<li class="chapter" data-level="13.1" data-path="setup-a-homepage-with-hugo-and-blogdown.html"><a href="setup-a-homepage-with-hugo-and-blogdown.html"><i class="fa fa-check"></i><b>13.1</b> Setup a homepage with Hugo and blogdown</a></li>
<li class="chapter" data-level="13.2" data-path="github-1.html"><a href="github-1.html"><i class="fa fa-check"></i><b>13.2</b> Github</a></li>
<li class="chapter" data-level="13.3" data-path="domain-name.html"><a href="domain-name.html"><i class="fa fa-check"></i><b>13.3</b> Domain name</a></li>
<li class="chapter" data-level="13.4" data-path="homepage.html"><a href="homepage.html"><i class="fa fa-check"></i><b>13.4</b> Homepage</a></li>
<li class="chapter" data-level="13.5" data-path="wowchemystarter-academic.html"><a href="wowchemystarter-academic.html"><i class="fa fa-check"></i><b>13.5</b> “wowchemy/starter-academic”</a></li>
<li class="chapter" data-level="13.6" data-path="where-to-adjust-the-homepage.html"><a href="where-to-adjust-the-homepage.html"><i class="fa fa-check"></i><b>13.6</b> Where to adjust the Homepage</a></li>
<li class="chapter" data-level="13.7" data-path="workflow-1.html"><a href="workflow-1.html"><i class="fa fa-check"></i><b>13.7</b> Workflow</a></li>
<li class="chapter" data-level="13.8" data-path="yaml-metadata.html"><a href="yaml-metadata.html"><i class="fa fa-check"></i><b>13.8</b> YAML metadata</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>14</b> Shiny</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ui-benutzeroberfläche.html"><a href="ui-benutzeroberfläche.html"><i class="fa fa-check"></i><b>14.1</b> UI Benutzeroberfläche</a></li>
<li class="chapter" data-level="14.2" data-path="welche-befehle-sollen-ausgeführt-werden.html"><a href="welche-befehle-sollen-ausgeführt-werden.html"><i class="fa fa-check"></i><b>14.2</b> Welche Befehle sollen ausgeführt werden</a></li>
<li class="chapter" data-level="14.3" data-path="beispiel-speicherkoog.html"><a href="beispiel-speicherkoog.html"><i class="fa fa-check"></i><b>14.3</b> Beispiel Speicherkoog</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="diverses.html"><a href="diverses.html"><i class="fa fa-check"></i><b>15</b> Diverses</a>
<ul>
<li class="chapter" data-level="15.1" data-path="entfernen-aller-packages.html"><a href="entfernen-aller-packages.html"><i class="fa fa-check"></i><b>15.1</b> Entfernen aller packages</a></li>
<li class="chapter" data-level="15.2" data-path="shortcuts.html"><a href="shortcuts.html"><i class="fa fa-check"></i><b>15.2</b> Shortcuts</a></li>
<li class="chapter" data-level="15.3" data-path="faqs.html"><a href="faqs.html"><i class="fa fa-check"></i><b>15.3</b> FAQs</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="faqs.html"><a href="faqs.html#kalender-erstellen"><i class="fa fa-check"></i><b>15.3.1</b> Kalender erstellen</a></li>
<li class="chapter" data-level="15.3.2" data-path="faqs.html"><a href="faqs.html#rstudio-1"><i class="fa fa-check"></i><b>15.3.2</b> RStudio</a></li>
<li class="chapter" data-level="15.3.3" data-path="faqs.html"><a href="faqs.html#datenmanipulation"><i class="fa fa-check"></i><b>15.3.3</b> Datenmanipulation</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="visualisation.html"><a href="visualisation.html"><i class="fa fa-check"></i><b>15.4</b> Visualisation</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="visualisation.html"><a href="visualisation.html#superscripts-and-subscripts"><i class="fa fa-check"></i><b>15.4.1</b> Superscripts and subscripts</a></li>
<li class="chapter" data-level="15.4.2" data-path="visualisation.html"><a href="visualisation.html#modifying-labels-in-faceted-plots"><i class="fa fa-check"></i><b>15.4.2</b> Modifying labels in faceted plots</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>15.5</b> Glossary</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Daten Analyse mit RStudio - Dokumentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="formen-der-darstellung" class="section level2" number="6.7">
<h2><span class="header-section-number">6.7</span> Formen der Darstellung</h2>
<div id="overplotting" class="section level3" number="6.7.1">
<h3><span class="header-section-number">6.7.1</span> Overplotting</h3>
<p>Bei mittleren bis großen Datensätzen läuft man Gefahr des “overplottings”. Eine Möglichkeit ist es durch die Form oder Transparenz die Aussagekraft zu erhöhen:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="formen-der-darstellung.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example from https://ggplot2-book.org/statistical-summaries.html#overplotting</span></span>
<span id="cb163-2"><a href="formen-der-darstellung.html#cb163-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">4000</span>), <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">4000</span>))</span>
<span id="cb163-3"><a href="formen-der-darstellung.html#cb163-3" aria-hidden="true" tabindex="-1"></a>norm <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y)) <span class="sc">+</span> </span>
<span id="cb163-4"><a href="formen-der-darstellung.html#cb163-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) </span>
<span id="cb163-5"><a href="formen-der-darstellung.html#cb163-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-6"><a href="formen-der-darstellung.html#cb163-6" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-184-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="formen-der-darstellung.html#cb164-1" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">1</span>) <span class="co"># Hollow circles</span></span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-184-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="formen-der-darstellung.html#cb165-1" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="st">&quot;.&quot;</span>) <span class="co"># Pixel sized</span></span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-184-3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="formen-der-darstellung.html#cb166-1" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="co"># Pixel sized</span></span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-184-4.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Hat man sehr großen Daten kann ein 2D Geometrien nützlich sein:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="formen-der-darstellung.html#cb167-1" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_bin2d</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;bin2d&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-185-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="formen-der-darstellung.html#cb168-1" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_hex</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;hex&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-185-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="formen-der-darstellung.html#cb169-1" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_hex</span>(<span class="at">bins =</span> <span class="dv">10</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;hex (bins = 10)&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-185-3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="formen-der-darstellung.html#cb170-1" aria-hidden="true" tabindex="-1"></a>norm <span class="sc">+</span> <span class="fu">geom_density2d</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;density2d&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-185-4.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="formen-der-darstellung.html#cb171-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-2"><a href="formen-der-darstellung.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Für den Speicherkoog könnte ein overlay wie folgt aussehen:</span></span>
<span id="cb171-3"><a href="formen-der-darstellung.html#cb171-3" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb171-4"><a href="formen-der-darstellung.html#cb171-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(wt, eh60a)) <span class="sc">+</span></span>
<span id="cb171-5"><a href="formen-der-darstellung.html#cb171-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb171-6"><a href="formen-der-darstellung.html#cb171-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_2d</span>(<span class="at">bins =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb171-7"><a href="formen-der-darstellung.html#cb171-7" aria-hidden="true" tabindex="-1"></a>  my_theme</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-185-5.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="positions-argument" class="section level3" number="6.7.2">
<h3><span class="header-section-number">6.7.2</span> Positions Argument</h3>
<p>Jedes <code>geom</code> hat auch ein Argument zur Auskunft der Position. Schauen wir es uns am Beispiel eines Säulendiagrams an:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="formen-der-darstellung.html#cb172-1" aria-hidden="true" tabindex="-1"></a>base <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(cty, <span class="at">fill =</span> class)) <span class="sc">+</span> </span>
<span id="cb172-2"><a href="formen-der-darstellung.html#cb172-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb172-3"><a href="formen-der-darstellung.html#cb172-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-4"><a href="formen-der-darstellung.html#cb172-4" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;stack&quot;</span>) <span class="co"># the default</span></span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-186-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="formen-der-darstellung.html#cb173-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;dodge&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-186-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="formen-der-darstellung.html#cb174-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;fill&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;fill&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-186-3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="formen-der-darstellung.html#cb175-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb175-2"><a href="formen-der-darstellung.html#cb175-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;gray&quot;</span>))</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-186-4.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Für Punkte gibt es nochmal speziellere Argumente, <code>identity</code>, <code>nudge</code>, <code>jitter</code>.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="formen-der-darstellung.html#cb176-1" aria-hidden="true" tabindex="-1"></a>base <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, cty, <span class="at">color =</span> class)) <span class="sc">+</span> </span>
<span id="cb176-2"><a href="formen-der-darstellung.html#cb176-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb176-3"><a href="formen-der-darstellung.html#cb176-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-4"><a href="formen-der-darstellung.html#cb176-4" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;identity&quot;</span>) <span class="co"># the default</span></span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-187-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="formen-der-darstellung.html#cb177-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">2</span>)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;nudge&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-187-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="formen-der-darstellung.html#cb178-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-187-3.png" width="100%" style="display: block; margin: auto;" /></p>
<p><code>position_nudge()</code> verschiebt unsere Daten um -2 auf der y Achse und +2 auf der x Achse.</p>
<p>🔍 <a href="https://rpubs.com/bpbond/727258">https://rpubs.com/bpbond/727258</a></p>
</div>
<div id="inspirationen" class="section level3" number="6.7.3">
<h3><span class="header-section-number">6.7.3</span> Inspirationen</h3>
<p>🔍 <a href="https://r-charts.com/">https://r-charts.com/</a></p>
<p>Die folgenden Abbildungen spiegeln alle dasselbe wieder, unterscheiden sich jedoch durch das <code>geom</code> in der Darstellung:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="formen-der-darstellung.html#cb179-1" aria-hidden="true" tabindex="-1"></a>base <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">fill =</span> class)) <span class="sc">+</span></span>
<span id="cb179-2"><a href="formen-der-darstellung.html#cb179-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb179-3"><a href="formen-der-darstellung.html#cb179-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb179-4"><a href="formen-der-darstellung.html#cb179-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-5"><a href="formen-der-darstellung.html#cb179-5" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;histogram&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-188-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="formen-der-darstellung.html#cb180-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;density&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-188-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="formen-der-darstellung.html#cb181-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_freqpoly</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;freqpoly&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-188-3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="formen-der-darstellung.html#cb182-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> displ)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;boxplot&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-188-4.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="formen-der-darstellung.html#cb183-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> displ)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;violin&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-188-5.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="formen-der-darstellung.html#cb184-1" aria-hidden="true" tabindex="-1"></a>base <span class="sc">+</span> <span class="fu">geom_dotplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> class), <span class="at">stackratio =</span> <span class="fl">0.35</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;dotplot&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-188-6.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="linien" class="section level4" number="6.7.3.1">
<h4><span class="header-section-number">6.7.3.1</span> Linien</h4>
<p>Für quasi kontinuierliche Darstellungen eignen sich Liniendiagramme:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="formen-der-darstellung.html#cb185-1" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb185-2"><a href="formen-der-darstellung.html#cb185-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(daily <span class="sc">&gt;</span> <span class="st">&quot;2011-01-01&quot;</span> <span class="sc">&amp;</span> daily <span class="sc">&lt;</span> <span class="st">&quot;2011-12-31&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb185-3"><a href="formen-der-darstellung.html#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(daily, st10)) <span class="sc">+</span></span>
<span id="cb185-4"><a href="formen-der-darstellung.html#cb185-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-189-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="boxplot" class="section level4" number="6.7.3.2">
<h4><span class="header-section-number">6.7.3.2</span> Boxplot</h4>
<p>Man kann die monatliche Variabilität aber auch als boxplot darstellen. Dazu setzen wir in dem Aufruf <code>geom_boxplot(aes(group = month))</code> um ggplot mitzuteilen, dass jede einzelne Box für den individuellen Monat in 2011 gezeigt werden soll.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="formen-der-darstellung.html#cb186-1" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb186-2"><a href="formen-der-darstellung.html#cb186-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(daily <span class="sc">&gt;</span> <span class="st">&quot;2011-01-01&quot;</span> <span class="sc">&amp;</span> daily <span class="sc">&lt;</span> <span class="st">&quot;2011-12-31&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb186-3"><a href="formen-der-darstellung.html#cb186-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(daily, st10)) <span class="sc">+</span></span>
<span id="cb186-4"><a href="formen-der-darstellung.html#cb186-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> month))</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-190-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Fehlt dieser Aufruf macht die Darstellung weniger Sinn 😎</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="formen-der-darstellung.html#cb187-1" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb187-2"><a href="formen-der-darstellung.html#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(daily <span class="sc">&gt;</span> <span class="st">&quot;2011-01-01&quot;</span> <span class="sc">&amp;</span> daily <span class="sc">&lt;</span> <span class="st">&quot;2011-12-31&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb187-3"><a href="formen-der-darstellung.html#cb187-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(daily, st10)) <span class="sc">+</span></span>
<span id="cb187-4"><a href="formen-der-darstellung.html#cb187-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-191-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="ridgeline-plots" class="section level4" number="6.7.3.3">
<h4><span class="header-section-number">6.7.3.3</span> Ridgeline plots</h4>
<p>Auf der X Achse wird der numerische Wert geplottet und auf der Y Achse die Faktor Variable (in unserem Fall die Bodentemperatur in den Tiefen)</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="formen-der-darstellung.html#cb188-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb188-2"><a href="formen-der-darstellung.html#cb188-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">&quot;st&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb188-3"><a href="formen-der-darstellung.html#cb188-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">factor</span>(name, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;st10&quot;</span>,<span class="st">&quot;st20&quot;</span>,<span class="st">&quot;st30&quot;</span>,<span class="st">&quot;st60&quot;</span>,<span class="st">&quot;st100&quot;</span>,<span class="st">&quot;st150&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb188-4"><a href="formen-der-darstellung.html#cb188-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> <span class="fu">fct_rev</span>(name))) <span class="sc">+</span></span>
<span id="cb188-5"><a href="formen-der-darstellung.html#cb188-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb188-6"><a href="formen-der-darstellung.html#cb188-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Bodentemperatur in °C&quot;</span>, </span>
<span id="cb188-7"><a href="formen-der-darstellung.html#cb188-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Bodentiefe&quot;</span></span>
<span id="cb188-8"><a href="formen-der-darstellung.html#cb188-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb188-9"><a href="formen-der-darstellung.html#cb188-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-10"><a href="formen-der-darstellung.html#cb188-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Offene Dichteverteilung der Daten</span></span>
<span id="cb188-11"><a href="formen-der-darstellung.html#cb188-11" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_density_ridges</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-192-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="formen-der-darstellung.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Geschlossene Dichteverteilung der Daten</span></span>
<span id="cb189-2"><a href="formen-der-darstellung.html#cb189-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_density_ridges2</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-192-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="formen-der-darstellung.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beschränke die Darstellung auf min und max der Tiefe</span></span>
<span id="cb190-2"><a href="formen-der-darstellung.html#cb190-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_density_ridges</span>(<span class="at">rel_min_height =</span> <span class="fl">0.01</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-192-3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="formen-der-darstellung.html#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit einheitlicher Farbe</span></span>
<span id="cb191-2"><a href="formen-der-darstellung.html#cb191-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_density_ridges</span>(<span class="at">fill =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-192-4.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="formen-der-darstellung.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Farbe nach Gruppen</span></span>
<span id="cb192-2"><a href="formen-der-darstellung.html#cb192-2" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb192-3"><a href="formen-der-darstellung.html#cb192-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">&quot;st&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb192-4"><a href="formen-der-darstellung.html#cb192-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">factor</span>(name, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;st10&quot;</span>,<span class="st">&quot;st20&quot;</span>,<span class="st">&quot;st30&quot;</span>,<span class="st">&quot;st60&quot;</span>,<span class="st">&quot;st100&quot;</span>,<span class="st">&quot;st150&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb192-5"><a href="formen-der-darstellung.html#cb192-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> <span class="fu">fct_rev</span>(name), <span class="at">fill =</span> name)) <span class="sc">+</span></span>
<span id="cb192-6"><a href="formen-der-darstellung.html#cb192-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb192-7"><a href="formen-der-darstellung.html#cb192-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Bodentemperatur in °C&quot;</span>, </span>
<span id="cb192-8"><a href="formen-der-darstellung.html#cb192-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Bodentiefe&quot;</span></span>
<span id="cb192-9"><a href="formen-der-darstellung.html#cb192-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb192-10"><a href="formen-der-darstellung.html#cb192-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-192-5.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="formen-der-darstellung.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Farbe nach Gradient</span></span>
<span id="cb193-2"><a href="formen-der-darstellung.html#cb193-2" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb193-3"><a href="formen-der-darstellung.html#cb193-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">&quot;st&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb193-4"><a href="formen-der-darstellung.html#cb193-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">factor</span>(name, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;st10&quot;</span>,<span class="st">&quot;st20&quot;</span>,<span class="st">&quot;st30&quot;</span>,<span class="st">&quot;st60&quot;</span>,<span class="st">&quot;st100&quot;</span>,<span class="st">&quot;st150&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb193-5"><a href="formen-der-darstellung.html#cb193-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> <span class="fu">fct_rev</span>(name), <span class="at">fill =</span> <span class="fu">stat</span>(x))) <span class="sc">+</span></span>
<span id="cb193-6"><a href="formen-der-darstellung.html#cb193-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb193-7"><a href="formen-der-darstellung.html#cb193-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Bodentemperatur in °C&quot;</span>, </span>
<span id="cb193-8"><a href="formen-der-darstellung.html#cb193-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Bodentiefe&quot;</span></span>
<span id="cb193-9"><a href="formen-der-darstellung.html#cb193-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb193-10"><a href="formen-der-darstellung.html#cb193-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges_gradient</span>() <span class="sc">+</span></span>
<span id="cb193-11"><a href="formen-der-darstellung.html#cb193-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;B&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-192-6.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="streamline-plots" class="section level4" number="6.7.3.4">
<h4><span class="header-section-number">6.7.3.4</span> Streamline plots</h4>
<p>Streamline plots sind sinnvoll um Trends über die Zeit darzustellen oder</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="formen-der-darstellung.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten Aufbereitung</span></span>
<span id="cb194-2"><a href="formen-der-darstellung.html#cb194-2" aria-hidden="true" tabindex="-1"></a>stream <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb194-3"><a href="formen-der-darstellung.html#cb194-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_of_year =</span> <span class="fu">yday</span>(daily)) <span class="sc">%&gt;%</span></span>
<span id="cb194-4"><a href="formen-der-darstellung.html#cb194-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">&quot;2011&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb194-5"><a href="formen-der-darstellung.html#cb194-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">&quot;st&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb194-6"><a href="formen-der-darstellung.html#cb194-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">factor</span>(name, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;st10&quot;</span>,<span class="st">&quot;st20&quot;</span>,<span class="st">&quot;st30&quot;</span>,<span class="st">&quot;st60&quot;</span>,<span class="st">&quot;st100&quot;</span>,<span class="st">&quot;st150&quot;</span>)))</span>
<span id="cb194-7"><a href="formen-der-darstellung.html#cb194-7" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> stream <span class="sc">%&gt;%</span></span>
<span id="cb194-8"><a href="formen-der-darstellung.html#cb194-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> day_of_year, <span class="at">y =</span> value, <span class="at">fill =</span> name))</span>
<span id="cb194-9"><a href="formen-der-darstellung.html#cb194-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Default stream plot</span></span>
<span id="cb194-10"><a href="formen-der-darstellung.html#cb194-10" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_stream</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-193-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="lollipop-charts" class="section level4" number="6.7.3.5">
<h4><span class="header-section-number">6.7.3.5</span> Lollipop charts</h4>
<p>Diese Abbildung eignet sich für numerische Variablen die gegen eine kategorische geplottet werden sollen:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="formen-der-darstellung.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data preparation</span></span>
<span id="cb195-2"><a href="formen-der-darstellung.html#cb195-2" aria-hidden="true" tabindex="-1"></a>lolli <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb195-3"><a href="formen-der-darstellung.html#cb195-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(daily <span class="sc">&lt;</span> <span class="st">&quot;2010-12-31&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb195-4"><a href="formen-der-darstellung.html#cb195-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_at</span>(<span class="fu">vars</span>(<span class="fu">contains</span>(<span class="st">&quot;eh&quot;</span>)), mean, <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb195-5"><a href="formen-der-darstellung.html#cb195-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>())</span>
<span id="cb195-6"><a href="formen-der-darstellung.html#cb195-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-7"><a href="formen-der-darstellung.html#cb195-7" aria-hidden="true" tabindex="-1"></a>col_names <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">c</span>(<span class="st">&quot;eh10a&quot;</span>,<span class="st">&quot;eh10b&quot;</span>,<span class="st">&quot;eh10c&quot;</span>,</span>
<span id="cb195-8"><a href="formen-der-darstellung.html#cb195-8" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;eh20a&quot;</span>,<span class="st">&quot;eh20b&quot;</span>,<span class="st">&quot;eh20c&quot;</span>,</span>
<span id="cb195-9"><a href="formen-der-darstellung.html#cb195-9" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;eh30a&quot;</span>,<span class="st">&quot;eh30b&quot;</span>,<span class="st">&quot;eh30c&quot;</span>,</span>
<span id="cb195-10"><a href="formen-der-darstellung.html#cb195-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="st">&quot;eh60a&quot;</span>,<span class="st">&quot;eh60b&quot;</span>,<span class="st">&quot;eh60c&quot;</span>,</span>
<span id="cb195-11"><a href="formen-der-darstellung.html#cb195-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="st">&quot;eh100a&quot;</span>,<span class="st">&quot;eh100b&quot;</span>,<span class="st">&quot;eh100c&quot;</span>,</span>
<span id="cb195-12"><a href="formen-der-darstellung.html#cb195-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="st">&quot;eh150a&quot;</span>,<span class="st">&quot;eh150b&quot;</span>,<span class="st">&quot;eh150c&quot;</span>))</span>
<span id="cb195-13"><a href="formen-der-darstellung.html#cb195-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb195-14"><a href="formen-der-darstellung.html#cb195-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-15"><a href="formen-der-darstellung.html#cb195-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-16"><a href="formen-der-darstellung.html#cb195-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb195-17"><a href="formen-der-darstellung.html#cb195-17" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> lolli <span class="sc">%&gt;%</span></span>
<span id="cb195-18"><a href="formen-der-darstellung.html#cb195-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(value, <span class="fu">fct_relevel</span>(name, col_names))) <span class="sc">+</span> <span class="co"># order the electrode names by the col_names vector</span></span>
<span id="cb195-19"><a href="formen-der-darstellung.html#cb195-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb195-20"><a href="formen-der-darstellung.html#cb195-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">-</span><span class="dv">300</span>, <span class="at">xend =</span> value, <span class="at">y =</span> name, <span class="at">yend =</span> name))</span>
<span id="cb195-21"><a href="formen-der-darstellung.html#cb195-21" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-194-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="formen-der-darstellung.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Customization </span></span>
<span id="cb196-2"><a href="formen-der-darstellung.html#cb196-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">8</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>)</span>
<span id="cb196-3"><a href="formen-der-darstellung.html#cb196-3" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-194-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="formen-der-darstellung.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mithilfe von geom_text kann auch der Wert in den Kreis geplottet werden</span></span>
<span id="cb197-2"><a href="formen-der-darstellung.html#cb197-2" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(value, <span class="dv">0</span>)), <span class="at">size =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-194-3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="formen-der-darstellung.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit fct_relevel aus dem forcats package kann nach Größe sortiert werden</span></span>
<span id="cb198-2"><a href="formen-der-darstellung.html#cb198-2" aria-hidden="true" tabindex="-1"></a>lolli <span class="sc">%&gt;%</span></span>
<span id="cb198-3"><a href="formen-der-darstellung.html#cb198-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(value, <span class="fu">fct_reorder</span>(name, value))) <span class="sc">+</span> <span class="co"># order the electrode names by the col_names vector</span></span>
<span id="cb198-4"><a href="formen-der-darstellung.html#cb198-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">8</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb198-5"><a href="formen-der-darstellung.html#cb198-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">-</span><span class="dv">300</span>, <span class="at">xend =</span> value, <span class="at">y =</span> name, <span class="at">yend =</span> name))</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-194-4.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Speziell das sortieren von kategorischen Variablen ist häufig wichtig, um sofort einzusehen das der höchste E<sub>H</sub> die Elektrode eh20c aufweist und der niedrigste Wert bei eh150b gemessen wurde.</p>
</div>
<div id="windrose-radar-chart" class="section level4" number="6.7.3.6">
<h4><span class="header-section-number">6.7.3.6</span> Windrose (radar chart)</h4>
<p>🔍 <a href="https://davidcarslaw.github.io/openair/reference/windRose.html">openair package</a></p>
<p>In der Meteorologie werden auch Windrosen verwendet, um neben der Windrichtung auch die Geschwindigkeit zu codieren mit der im jährlichen Mittel der Wind weht. Das <code>openair::</code> package bietet Möglichkeiten dies umzusetzen. Alles was man braucht ist ein data frame mit einer Variable für die WIndrichtung (default <code>wd</code>) und der Windgeschwindigkeit (default <code>ws</code>). Durch das Argument <code>type =</code> kann man ähnlich wie beim facetting angeben, wie die Daten aufgebrochen werden sollen (bspw. pro Jahr):</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="formen-der-darstellung.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Restructure data</span></span>
<span id="cb199-2"><a href="formen-der-darstellung.html#cb199-2" aria-hidden="true" tabindex="-1"></a>koog_wind <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb199-3"><a href="formen-der-darstellung.html#cb199-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ws, wd, year) <span class="sc">%&gt;%</span></span>
<span id="cb199-4"><a href="formen-der-darstellung.html#cb199-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&lt;</span> <span class="dv">2020</span> <span class="sc">&amp;</span> year <span class="sc">&gt;</span> <span class="dv">2011</span>)</span>
<span id="cb199-5"><a href="formen-der-darstellung.html#cb199-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-6"><a href="formen-der-darstellung.html#cb199-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb199-7"><a href="formen-der-darstellung.html#cb199-7" aria-hidden="true" tabindex="-1"></a>koog_wind <span class="sc">%&gt;%</span></span>
<span id="cb199-8"><a href="formen-der-darstellung.html#cb199-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">windRose</span>(<span class="at">ws =</span> <span class="st">&quot;ws&quot;</span>, <span class="at">wd =</span> <span class="st">&quot;wd&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-195-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="treemaps" class="section level4" number="6.7.3.7">
<h4><span class="header-section-number">6.7.3.7</span> Treemaps</h4>
<p>Treemaps visualisieren Beobachtungen durch Kacheln, wobei die Fläche der Kachel proportional zu dem Wert der Variable ist. Das package <code>treemapify::</code> kann dazu genutzt werden:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="formen-der-darstellung.html#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create test data</span></span>
<span id="cb200-2"><a href="formen-der-darstellung.html#cb200-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb200-3"><a href="formen-der-darstellung.html#cb200-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">paste</span>(<span class="st">&quot;Group&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>),</span>
<span id="cb200-4"><a href="formen-der-darstellung.html#cb200-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">subgroup =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>,<span class="st">&quot;C&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>),</span>
<span id="cb200-5"><a href="formen-der-darstellung.html#cb200-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">16</span>,<span class="dv">18</span>, <span class="dv">30</span>, <span class="dv">12</span>, <span class="dv">41</span>)</span>
<span id="cb200-6"><a href="formen-der-darstellung.html#cb200-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb200-7"><a href="formen-der-darstellung.html#cb200-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-8"><a href="formen-der-darstellung.html#cb200-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb200-9"><a href="formen-der-darstellung.html#cb200-9" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb200-10"><a href="formen-der-darstellung.html#cb200-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">area =</span> value, <span class="at">fill =</span> group)) <span class="sc">+</span></span>
<span id="cb200-11"><a href="formen-der-darstellung.html#cb200-11" aria-hidden="true" tabindex="-1"></a>  treemapify<span class="sc">::</span><span class="fu">geom_treemap</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-196-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="formen-der-darstellung.html#cb201-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-2"><a href="formen-der-darstellung.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Fülle mit numerischen Daten</span></span>
<span id="cb201-3"><a href="formen-der-darstellung.html#cb201-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb201-4"><a href="formen-der-darstellung.html#cb201-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">area =</span> value, <span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb201-5"><a href="formen-der-darstellung.html#cb201-5" aria-hidden="true" tabindex="-1"></a>  treemapify<span class="sc">::</span><span class="fu">geom_treemap</span>() <span class="sc">+</span></span>
<span id="cb201-6"><a href="formen-der-darstellung.html#cb201-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-196-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="formen-der-darstellung.html#cb202-1" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb202-2"><a href="formen-der-darstellung.html#cb202-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Label den plot mit Gruppenname und Wert</span></span>
<span id="cb202-3"><a href="formen-der-darstellung.html#cb202-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">area =</span> value, <span class="at">fill =</span> value, <span class="at">label =</span> <span class="fu">paste</span>(group, value, <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))) <span class="sc">+</span></span>
<span id="cb202-4"><a href="formen-der-darstellung.html#cb202-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>() <span class="sc">+</span></span>
<span id="cb202-5"><a href="formen-der-darstellung.html#cb202-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>(<span class="at">colour =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;white&quot;</span>, <span class="dv">2</span>),</span>
<span id="cb202-6"><a href="formen-der-darstellung.html#cb202-6" aria-hidden="true" tabindex="-1"></a>                               <span class="dv">1</span>, <span class="fu">rep</span>(<span class="st">&quot;white&quot;</span>, <span class="dv">6</span>)),</span>
<span id="cb202-7"><a href="formen-der-darstellung.html#cb202-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">place =</span> <span class="st">&quot;centre&quot;</span>, <span class="at">size =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb202-8"><a href="formen-der-darstellung.html#cb202-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-196-3.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="contour-plots" class="section level4" number="6.7.3.8">
<h4><span class="header-section-number">6.7.3.8</span> Contour plots</h4>
<p>🔍 <a href="https://fishandwhistle.net/post/2019/depth-time-heatmaps/">https://fishandwhistle.net/post/2019/depth-time-heatmaps/</a></p>
<p>🔍 <a href="https://theoceancode.netlify.app/post/odv_figures/">https://theoceancode.netlify.app/post/odv_figures/</a></p>
<p>Die Messtiefen im Speicherkoog sind nahe an der Bodenoberfläche in einer höheren Auflösung und es kann auch zu Messausfällen kommen. Lücken in den Datensätzen vermitteln deswegen nicht unbedingt das räumliche und zeitliche Kontinuum, welches in naturwissenschaftlichen Datensätzen zu finden ist. Eine Möglichkeit dies wiederzuspiegeln bieten contour plots / heatmaps / Rasterabbildungen oder weitere Synonyme.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="formen-der-darstellung.html#cb203-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb203-2"><a href="formen-der-darstellung.html#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Verlauf aller Elektroden</span></span>
<span id="cb203-3"><a href="formen-der-darstellung.html#cb203-3" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb203-4"><a href="formen-der-darstellung.html#cb203-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">&quot;eh&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb203-5"><a href="formen-der-darstellung.html#cb203-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">&quot;2012&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb203-6"><a href="formen-der-darstellung.html#cb203-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(daily, value, <span class="at">color =</span> name, <span class="at">group =</span> name)) <span class="sc">+</span></span>
<span id="cb203-7"><a href="formen-der-darstellung.html#cb203-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-197-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="formen-der-darstellung.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mittelwert bilden pro Tiefe</span></span>
<span id="cb204-2"><a href="formen-der-darstellung.html#cb204-2" aria-hidden="true" tabindex="-1"></a>koog_day <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb204-3"><a href="formen-der-darstellung.html#cb204-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> <span class="co"># führe die folgende Berechnung Zeilenweise durch</span></span>
<span id="cb204-4"><a href="formen-der-darstellung.html#cb204-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">eh10_mean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(eh10a, eh10b, eh10c), <span class="at">na.rm =</span> T),</span>
<span id="cb204-5"><a href="formen-der-darstellung.html#cb204-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">eh20_mean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(eh20a, eh20b, eh20c), <span class="at">na.rm =</span> T),</span>
<span id="cb204-6"><a href="formen-der-darstellung.html#cb204-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">eh30_mean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(eh30a, eh30b, eh30c), <span class="at">na.rm =</span> T),</span>
<span id="cb204-7"><a href="formen-der-darstellung.html#cb204-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">eh60_mean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(eh60a, eh60b, eh60c), <span class="at">na.rm =</span> T),</span>
<span id="cb204-8"><a href="formen-der-darstellung.html#cb204-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">eh100_mean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(eh100a, eh100b, eh100c), <span class="at">na.rm =</span> T),</span>
<span id="cb204-9"><a href="formen-der-darstellung.html#cb204-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">eh150_mean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(eh150a, eh150b, eh150c), <span class="at">na.rm =</span> T))</span>
<span id="cb204-10"><a href="formen-der-darstellung.html#cb204-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Verlauf der Mittelwerte </span></span>
<span id="cb204-11"><a href="formen-der-darstellung.html#cb204-11" aria-hidden="true" tabindex="-1"></a>koog_day <span class="sc">%&gt;%</span></span>
<span id="cb204-12"><a href="formen-der-darstellung.html#cb204-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">&quot;eh&quot;</span>) <span class="sc">&amp;</span> <span class="fu">contains</span>(<span class="st">&quot;mean&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb204-13"><a href="formen-der-darstellung.html#cb204-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">&quot;2012&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb204-14"><a href="formen-der-darstellung.html#cb204-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(daily, value, <span class="at">color =</span> name, <span class="at">group =</span> name)) <span class="sc">+</span></span>
<span id="cb204-15"><a href="formen-der-darstellung.html#cb204-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-197-2.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Mit den Mittelwerten sieht es schon etwas aufgeräumter aus, wir sind aber immer noch nicht am Ziel. Unser Ziel ist es zum Erstellen der Konturabbildung die fehlenden Werte “aufzufüllen”. Räumlich also alle Werte die zwischen den Elektroden 10 und 20 liegen (also hypothetische Messwerte in 11, 12, 13, … cm Tiefe) und zeitlich die <code>NA</code>s im Dezember 2012.</p>
<p>🚨 Die interpolierten Messwerte sollten nicht (!) für weitere statistische Verrechnungen genutzt werden, da E<sub>H</sub> Messungen kleinräumig sehr variabel sind und wir keine Informationen über den Bereich zwischen den Messtiefen geben können. Nichtsdestotrotz sind Konturabbildungen ein tolles Tool um Daten ansprechend zu visualisieren und auch Trends hervorzuheben.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="formen-der-darstellung.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame for interpolating</span></span>
<span id="cb205-2"><a href="formen-der-darstellung.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The column names should be date, depth, value (e.g. redox data)</span></span>
<span id="cb205-3"><a href="formen-der-darstellung.html#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="co"># NA, NaN, Inf values must be removed from the data frames</span></span>
<span id="cb205-4"><a href="formen-der-darstellung.html#cb205-4" aria-hidden="true" tabindex="-1"></a>koog_contour <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb205-5"><a href="formen-der-darstellung.html#cb205-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># separate by &quot;_&quot; and remove &quot;eh&quot;</span></span>
<span id="cb205-6"><a href="formen-der-darstellung.html#cb205-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">&quot;eh&quot;</span>) <span class="sc">&amp;</span> <span class="fu">contains</span>(<span class="st">&quot;mean&quot;</span>), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">&quot;depth&quot;</span>, <span class="st">&quot;mean&quot;</span>), <span class="at">names_sep =</span> <span class="st">&quot;_&quot;</span>, <span class="at">names_prefix =</span> <span class="st">&quot;eh&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb205-7"><a href="formen-der-darstellung.html#cb205-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">&quot;2012&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb205-8"><a href="formen-der-darstellung.html#cb205-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> daily) <span class="sc">%&gt;%</span></span>
<span id="cb205-9"><a href="formen-der-darstellung.html#cb205-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date, depth, value) <span class="sc">%&gt;%</span> </span>
<span id="cb205-10"><a href="formen-der-darstellung.html#cb205-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove NaN values from the data to NA values</span></span>
<span id="cb205-11"><a href="formen-der-darstellung.html#cb205-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">na_if</span>(value, <span class="st">&quot;NaN&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb205-12"><a href="formen-der-darstellung.html#cb205-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove all rows that contain a missing value, otherwise an error occurs during interpolation </span></span>
<span id="cb205-13"><a href="formen-der-darstellung.html#cb205-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() </span>
<span id="cb205-14"><a href="formen-der-darstellung.html#cb205-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-15"><a href="formen-der-darstellung.html#cb205-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Write function to interpolate between depths </span></span>
<span id="cb205-16"><a href="formen-der-darstellung.html#cb205-16" aria-hidden="true" tabindex="-1"></a>estimate_value_by_date <span class="ot">&lt;-</span> <span class="cf">function</span>(target_date, target_depth) {</span>
<span id="cb205-17"><a href="formen-der-darstellung.html#cb205-17" aria-hidden="true" tabindex="-1"></a>  data_for_date <span class="ot">&lt;-</span> koog_contour <span class="sc">%&gt;%</span> </span>
<span id="cb205-18"><a href="formen-der-darstellung.html#cb205-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(date <span class="sc">==</span> target_date) <span class="sc">%&gt;%</span></span>
<span id="cb205-19"><a href="formen-der-darstellung.html#cb205-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(depth)</span>
<span id="cb205-20"><a href="formen-der-darstellung.html#cb205-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb205-21"><a href="formen-der-darstellung.html#cb205-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># approx() is one way to do a linear interpolation</span></span>
<span id="cb205-22"><a href="formen-der-darstellung.html#cb205-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">approx</span>(data_for_date<span class="sc">$</span>depth, data_for_date<span class="sc">$</span>value, <span class="at">xout =</span> target_depth)<span class="sc">$</span>y</span>
<span id="cb205-23"><a href="formen-der-darstellung.html#cb205-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb205-24"><a href="formen-der-darstellung.html#cb205-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-25"><a href="formen-der-darstellung.html#cb205-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the function for four arbitraily set depths</span></span>
<span id="cb205-26"><a href="formen-der-darstellung.html#cb205-26" aria-hidden="true" tabindex="-1"></a><span class="fu">estimate_value_by_date</span>(<span class="fu">ymd</span>(<span class="st">&quot;2012-05-13&quot;</span>), <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">1.5</span>, <span class="dv">10</span>, <span class="dv">21</span>))</span>
<span id="cb205-27"><a href="formen-der-darstellung.html#cb205-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]       NA       NA       NA 547.1413 643.7689</span></span>
<span id="cb205-28"><a href="formen-der-darstellung.html#cb205-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-29"><a href="formen-der-darstellung.html#cb205-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-30"><a href="formen-der-darstellung.html#cb205-30" aria-hidden="true" tabindex="-1"></a>value_interp_depth <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb205-31"><a href="formen-der-darstellung.html#cb205-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the same dates as koog_contour</span></span>
<span id="cb205-32"><a href="formen-der-darstellung.html#cb205-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">date =</span> <span class="fu">unique</span>(koog_contour<span class="sc">$</span>date)),</span>
<span id="cb205-33"><a href="formen-der-darstellung.html#cb205-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># depths can now be any value</span></span>
<span id="cb205-34"><a href="formen-der-darstellung.html#cb205-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">depth =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">150</span>, <span class="at">length.out =</span> <span class="dv">100</span>)) <span class="co"># The depths must be specified according to the data</span></span>
<span id="cb205-35"><a href="formen-der-darstellung.html#cb205-35" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb205-36"><a href="formen-der-darstellung.html#cb205-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb205-37"><a href="formen-der-darstellung.html#cb205-37" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">estimate_value_by_date</span>(date[<span class="dv">1</span>], depth))</span>
<span id="cb205-38"><a href="formen-der-darstellung.html#cb205-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-39"><a href="formen-der-darstellung.html#cb205-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-40"><a href="formen-der-darstellung.html#cb205-40" aria-hidden="true" tabindex="-1"></a>estimate_value_by_depth <span class="ot">&lt;-</span> <span class="cf">function</span>(target_depth, target_date) {</span>
<span id="cb205-41"><a href="formen-der-darstellung.html#cb205-41" aria-hidden="true" tabindex="-1"></a>  data_for_depth <span class="ot">&lt;-</span> value_interp_depth <span class="sc">%&gt;%</span> </span>
<span id="cb205-42"><a href="formen-der-darstellung.html#cb205-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(depth <span class="sc">==</span> target_depth) <span class="sc">%&gt;%</span></span>
<span id="cb205-43"><a href="formen-der-darstellung.html#cb205-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(date)</span>
<span id="cb205-44"><a href="formen-der-darstellung.html#cb205-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">approx</span>(data_for_depth<span class="sc">$</span>date, data_for_depth<span class="sc">$</span>value, <span class="at">xout =</span> target_date)<span class="sc">$</span>y</span>
<span id="cb205-45"><a href="formen-der-darstellung.html#cb205-45" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb205-46"><a href="formen-der-darstellung.html#cb205-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-47"><a href="formen-der-darstellung.html#cb205-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-48"><a href="formen-der-darstellung.html#cb205-48" aria-hidden="true" tabindex="-1"></a><span class="fu">estimate_value_by_depth</span>(</span>
<span id="cb205-49"><a href="formen-der-darstellung.html#cb205-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">target_depth =</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">12</span>), </span>
<span id="cb205-50"><a href="formen-der-darstellung.html#cb205-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">target_date =</span> <span class="fu">seq</span>(<span class="fu">ymd</span>(<span class="st">&quot;2012-05-12&quot;</span>), <span class="fu">ymd</span>(<span class="st">&quot;2012-05-15&quot;</span>), <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb205-51"><a href="formen-der-darstellung.html#cb205-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb205-52"><a href="formen-der-darstellung.html#cb205-52" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 549.1958 547.1413 542.2649 550.9811</span></span>
<span id="cb205-53"><a href="formen-der-darstellung.html#cb205-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-54"><a href="formen-der-darstellung.html#cb205-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-55"><a href="formen-der-darstellung.html#cb205-55" aria-hidden="true" tabindex="-1"></a>value_raster <span class="ot">&lt;-</span> <span class="fu">crossing</span>(</span>
<span id="cb205-56"><a href="formen-der-darstellung.html#cb205-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># dates can now be any value</span></span>
<span id="cb205-57"><a href="formen-der-darstellung.html#cb205-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">date =</span> <span class="fu">seq</span>(<span class="fu">ymd</span>(<span class="st">&quot;2012-01-01&quot;</span>), <span class="fu">ymd</span>(<span class="st">&quot;2012-12-31&quot;</span>), <span class="at">by =</span> <span class="dv">1</span>)),</span>
<span id="cb205-58"><a href="formen-der-darstellung.html#cb205-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># depths must be the same as in temp_interp_depth</span></span>
<span id="cb205-59"><a href="formen-der-darstellung.html#cb205-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">depth =</span> <span class="fu">unique</span>(value_interp_depth<span class="sc">$</span>depth))</span>
<span id="cb205-60"><a href="formen-der-darstellung.html#cb205-60" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb205-61"><a href="formen-der-darstellung.html#cb205-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(depth) <span class="sc">%&gt;%</span></span>
<span id="cb205-62"><a href="formen-der-darstellung.html#cb205-62" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">estimate_value_by_depth</span>(depth[<span class="dv">1</span>], date))</span>
<span id="cb205-63"><a href="formen-der-darstellung.html#cb205-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-64"><a href="formen-der-darstellung.html#cb205-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a color palette</span></span>
<span id="cb205-65"><a href="formen-der-darstellung.html#cb205-65" aria-hidden="true" tabindex="-1"></a>colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#feb483&quot;</span>, <span class="st">&quot;#d31f2a&quot;</span>, <span class="st">&quot;#ffc000&quot;</span>, <span class="st">&quot;#27ab19&quot;</span>, <span class="st">&quot;#0db5e6&quot;</span>, <span class="st">&quot;#7139fe&quot;</span>, <span class="st">&quot;#d16cfa&quot;</span>)</span>
<span id="cb205-66"><a href="formen-der-darstellung.html#cb205-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-67"><a href="formen-der-darstellung.html#cb205-67" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> value_raster <span class="sc">%&gt;%</span></span>
<span id="cb205-68"><a href="formen-der-darstellung.html#cb205-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, depth, <span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb205-69"><a href="formen-der-darstellung.html#cb205-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>() <span class="sc">+</span></span>
<span id="cb205-70"><a href="formen-der-darstellung.html#cb205-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_contour</span>(<span class="fu">aes</span>(<span class="at">z =</span> value), <span class="at">breaks =</span> <span class="dv">300</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> <span class="co"># Label EH &gt;= 300 mV with black</span></span>
<span id="cb205-71"><a href="formen-der-darstellung.html#cb205-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">150</span>, <span class="dv">0</span>), <span class="at">expand =</span> <span class="dv">0</span>) <span class="sc">+</span> <span class="co"># expand = 0 setzt die Grenze der Abbildung direkt an den Rand</span></span>
<span id="cb205-72"><a href="formen-der-darstellung.html#cb205-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(<span class="at">colours =</span> <span class="fu">rev</span>(colours), </span>
<span id="cb205-73"><a href="formen-der-darstellung.html#cb205-73" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="fu">expression</span>(E[H]),</span>
<span id="cb205-74"><a href="formen-der-darstellung.html#cb205-74" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="dv">400</span>, <span class="at">to =</span> <span class="dv">800</span>, <span class="at">by =</span> <span class="dv">200</span>)) <span class="sc">+</span></span>
<span id="cb205-75"><a href="formen-der-darstellung.html#cb205-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%m&quot;</span>, <span class="at">minor_breaks =</span> <span class="st">&quot;1 month&quot;</span>) <span class="sc">+</span></span>
<span id="cb205-76"><a href="formen-der-darstellung.html#cb205-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb205-77"><a href="formen-der-darstellung.html#cb205-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Konturabbildung der Redoxpotenziale&quot;</span>,</span>
<span id="cb205-78"><a href="formen-der-darstellung.html#cb205-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Speicherkoog für das Jahr 2012&quot;</span>,</span>
<span id="cb205-79"><a href="formen-der-darstellung.html#cb205-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;*Schwarze Linie trennt oxidierende (&gt; 300 mV)</span><span class="sc">\n</span><span class="st"> und reduzierende Bedingungen&quot;</span>,</span>
<span id="cb205-80"><a href="formen-der-darstellung.html#cb205-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Monat des Jahres&quot;</span>,</span>
<span id="cb205-81"><a href="formen-der-darstellung.html#cb205-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">expression</span>(<span class="fu">paste</span>(E[H], <span class="st">&quot; (mV)&quot;</span>))</span>
<span id="cb205-82"><a href="formen-der-darstellung.html#cb205-82" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb205-83"><a href="formen-der-darstellung.html#cb205-83" aria-hidden="true" tabindex="-1"></a>  my_theme</span>
<span id="cb205-84"><a href="formen-der-darstellung.html#cb205-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-85"><a href="formen-der-darstellung.html#cb205-85" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb205-86"><a href="formen-der-darstellung.html#cb205-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">contains</span>(<span class="st">&quot;eh&quot;</span>) <span class="sc">&amp;</span> <span class="fu">contains</span>(<span class="st">&quot;mean&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb205-87"><a href="formen-der-darstellung.html#cb205-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">&quot;2012&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb205-88"><a href="formen-der-darstellung.html#cb205-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(daily, value, <span class="at">color =</span> name)) <span class="sc">+</span></span>
<span id="cb205-89"><a href="formen-der-darstellung.html#cb205-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()  <span class="sc">+</span></span>
<span id="cb205-90"><a href="formen-der-darstellung.html#cb205-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%m&quot;</span>, <span class="at">minor_breaks =</span> <span class="st">&quot;1 month&quot;</span>) <span class="sc">+</span></span>
<span id="cb205-91"><a href="formen-der-darstellung.html#cb205-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb205-92"><a href="formen-der-darstellung.html#cb205-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Verlauf der Redoxpotenziale&quot;</span>,</span>
<span id="cb205-93"><a href="formen-der-darstellung.html#cb205-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Speicherkoog für das Jahr 2012&quot;</span>,</span>
<span id="cb205-94"><a href="formen-der-darstellung.html#cb205-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Monat des Jahres&quot;</span>,</span>
<span id="cb205-95"><a href="formen-der-darstellung.html#cb205-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">expression</span>(<span class="fu">paste</span>(E[H], <span class="st">&quot; (mV)&quot;</span>))</span>
<span id="cb205-96"><a href="formen-der-darstellung.html#cb205-96" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb205-97"><a href="formen-der-darstellung.html#cb205-97" aria-hidden="true" tabindex="-1"></a>  my_theme</span>
<span id="cb205-98"><a href="formen-der-darstellung.html#cb205-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-99"><a href="formen-der-darstellung.html#cb205-99" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> koog_day <span class="sc">%&gt;%</span></span>
<span id="cb205-100"><a href="formen-der-darstellung.html#cb205-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">&quot;2012&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb205-101"><a href="formen-der-darstellung.html#cb205-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(daily, wt_2)) <span class="sc">+</span></span>
<span id="cb205-102"><a href="formen-der-darstellung.html#cb205-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb205-103"><a href="formen-der-darstellung.html#cb205-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%m&quot;</span>, <span class="at">minor_breaks =</span> <span class="st">&quot;1 month&quot;</span>) <span class="sc">+</span></span>
<span id="cb205-104"><a href="formen-der-darstellung.html#cb205-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb205-105"><a href="formen-der-darstellung.html#cb205-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Monat des Jahres&quot;</span>,</span>
<span id="cb205-106"><a href="formen-der-darstellung.html#cb205-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Grundwasserflurabstand</span><span class="sc">\n</span><span class="st">(cm u. GOK)&quot;</span></span>
<span id="cb205-107"><a href="formen-der-darstellung.html#cb205-107" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb205-108"><a href="formen-der-darstellung.html#cb205-108" aria-hidden="true" tabindex="-1"></a>  my_theme</span>
<span id="cb205-109"><a href="formen-der-darstellung.html#cb205-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-110"><a href="formen-der-darstellung.html#cb205-110" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">/</span> p3  </span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-198-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="formen-der-darstellung.html#cb206-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-2"><a href="formen-der-darstellung.html#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;images/results/new_school.png&quot;</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">width =</span> <span class="dv">6</span>)</span>
<span id="cb206-3"><a href="formen-der-darstellung.html#cb206-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-4"><a href="formen-der-darstellung.html#cb206-4" aria-hidden="true" tabindex="-1"></a>p2 <span class="sc">/</span> p3</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-198-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="formen-der-darstellung.html#cb207-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-2"><a href="formen-der-darstellung.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;images/results/old_school.png&quot;</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">width =</span> <span class="dv">6</span>)</span></code></pre></div>
</div>
<div id="warming-stripes" class="section level4" number="6.7.3.9">
<h4><span class="header-section-number">6.7.3.9</span> Warming stripes</h4>
<p>🔍 <a href="https://dominicroye.github.io/en/2018/how-to-create-warming-stripes-in-r/">https://dominicroye.github.io/en/2018/how-to-create-warming-stripes-in-r/</a></p>
<p>Warming stripes haben in letzter Zeit größere Beliebtheit bekommen, um den Anstieg der globalen Durchschnittstemperatur zu visualisieren. Quasi erfunden wurden sie von Ed Hawkins:</p>
<blockquote class="twitter-tweet" data-width="550" data-lang="en" data-dnt="true" data-theme="light"><p lang="en" dir="ltr">Visualising global temperature change since records began in 1850. Versions for USA, central England &amp; Toronto available too: <a href="https://t.co/H5Hv9YgZ7v">https://t.co/H5Hv9YgZ7v</a> <a href="https://t.co/YMzdySrr3A">pic.twitter.com/YMzdySrr3A</a></p>&mdash; Ed Hawkins (@ed_hawkins) <a href="https://twitter.com/ed_hawkins/status/999242147135188993?ref_src=twsrc%5Etfw">May 23, 2018</a></blockquote>

<p>Als Beispieldatensatz schauen wir uns die Bodentemperatur in 5 cm Tiefe für eine Messstation des DWD in NRW an. Es handelt sich um die Station <em>Essen-Bredeney</em>.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="formen-der-darstellung.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read data for the 5 cm soil depth</span></span>
<span id="cb208-2"><a href="formen-der-darstellung.html#cb208-2" aria-hidden="true" tabindex="-1"></a>dh_005 <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_delim</span>(<span class="st">&quot;data/data_TE05_MN002.csv&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb208-3"><a href="formen-der-darstellung.html#cb208-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-4"><a href="formen-der-darstellung.html#cb208-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define special theme for the plot</span></span>
<span id="cb208-5"><a href="formen-der-darstellung.html#cb208-5" aria-hidden="true" tabindex="-1"></a>theme_strip <span class="ot">&lt;-</span> <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb208-6"><a href="formen-der-darstellung.html#cb208-6" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-7"><a href="formen-der-darstellung.html#cb208-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">axis.line.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-8"><a href="formen-der-darstellung.html#cb208-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-9"><a href="formen-der-darstellung.html#cb208-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-10"><a href="formen-der-darstellung.html#cb208-10" aria-hidden="true" tabindex="-1"></a>                       <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-11"><a href="formen-der-darstellung.html#cb208-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">3</span>),</span>
<span id="cb208-12"><a href="formen-der-darstellung.html#cb208-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb208-13"><a href="formen-der-darstellung.html#cb208-13" aria-hidden="true" tabindex="-1"></a>                        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb208-14"><a href="formen-der-darstellung.html#cb208-14" aria-hidden="true" tabindex="-1"></a>                       )</span>
<span id="cb208-15"><a href="formen-der-darstellung.html#cb208-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-16"><a href="formen-der-darstellung.html#cb208-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors to use for the plot</span></span>
<span id="cb208-17"><a href="formen-der-darstellung.html#cb208-17" aria-hidden="true" tabindex="-1"></a>col_strip <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">11</span>, <span class="st">&quot;RdBu&quot;</span>)</span>
<span id="cb208-18"><a href="formen-der-darstellung.html#cb208-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-19"><a href="formen-der-darstellung.html#cb208-19" aria-hidden="true" tabindex="-1"></a><span class="co"># For the final graphic we use the geometry geom_tile( ). Since the data does not have a specific value for the Y axis, we need a dummy value, here I used 1. Also, I adjust the width of the color bar in the legend.</span></span>
<span id="cb208-20"><a href="formen-der-darstellung.html#cb208-20" aria-hidden="true" tabindex="-1"></a>dh_005 <span class="sc">%&gt;%</span></span>
<span id="cb208-21"><a href="formen-der-darstellung.html#cb208-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.Date</span>(year), <span class="at">y =</span> <span class="dv">1</span>, <span class="at">fill =</span> st)) <span class="sc">+</span></span>
<span id="cb208-22"><a href="formen-der-darstellung.html#cb208-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb208-23"><a href="formen-der-darstellung.html#cb208-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;5 years&quot;</span>,</span>
<span id="cb208-24"><a href="formen-der-darstellung.html#cb208-24" aria-hidden="true" tabindex="-1"></a>               <span class="at">date_labels =</span> <span class="st">&quot;%Y&quot;</span>,</span>
<span id="cb208-25"><a href="formen-der-darstellung.html#cb208-25" aria-hidden="true" tabindex="-1"></a>               <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb208-26"><a href="formen-der-darstellung.html#cb208-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb208-27"><a href="formen-der-darstellung.html#cb208-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(<span class="at">colors =</span> <span class="fu">rev</span>(col_strip)) <span class="sc">+</span></span>
<span id="cb208-28"><a href="formen-der-darstellung.html#cb208-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_colorbar</span>(<span class="at">barwidth =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb208-29"><a href="formen-der-darstellung.html#cb208-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb208-30"><a href="formen-der-darstellung.html#cb208-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Entwicklung der Jahresmittelwerte der Bodentemperatur&quot;</span>,</span>
<span id="cb208-31"><a href="formen-der-darstellung.html#cb208-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;In 5 cm Bodentiefe für die Station Essen-Bredeney&quot;</span>,</span>
<span id="cb208-32"><a href="formen-der-darstellung.html#cb208-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Quelle: Climate Data Center DWD&quot;</span>, </span>
<span id="cb208-33"><a href="formen-der-darstellung.html#cb208-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb208-34"><a href="formen-der-darstellung.html#cb208-34" aria-hidden="true" tabindex="-1"></a>  theme_strip</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-200-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="speichern-eines-plots.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="farbauswahl.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["documentation.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
