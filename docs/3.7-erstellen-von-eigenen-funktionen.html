<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="3.7 Erstellen von eigenen Funktionen | Daten Analyse mit RStudio - Dokumentation" />
<meta property="og:type" content="book" />


<meta property="og:description" content="Explorative Datenanalyse in den Geowissenschaften" />


<meta name="author" content="Dr. Kristof Dorau" />



<meta name="description" content="Explorative Datenanalyse in den Geowissenschaften">

<title>3.7 Erstellen von eigenen Funktionen | Daten Analyse mit RStudio - Dokumentation</title>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<link rel="stylesheet" href="toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#einleitung"><span class="toc-section-number">1</span> Einleitung</a>
<ul>
<li><a href="1.1-syntax-und-stilistische-mittel-der-dokumentation.html#syntax-und-stilistische-mittel-der-dokumentation"><span class="toc-section-number">1.1</span> Syntax und stilistische Mittel der Dokumentation</a></li>
<li><a href="1.2-falbeispiele.html#falbeispiele"><span class="toc-section-number">1.2</span> Falbeispiele</a>
<ul>
<li><a href="1.2-falbeispiele.html#speicherkoog"><span class="toc-section-number">1.2.1</span> Speicherkoog</a></li>
<li><a href="1.2-falbeispiele.html#mtcars-datensatz"><span class="toc-section-number">1.2.2</span> <code>mtcars</code> Datensatz</a></li>
</ul></li>
<li><a href="1.3-über-mich.html#über-mich"><span class="toc-section-number">1.3</span> Über mich</a></li>
<li><a href="1.4-literatur.html#literatur"><span class="toc-section-number">1.4</span> Literatur</a></li>
</ul></li>
<li><a href="2-erste-schritte-mit-r.html#erste-schritte-mit-r"><span class="toc-section-number">2</span> Erste Schritte mit R</a>
<ul>
<li><a href="2.1-installation.html#installation"><span class="toc-section-number">2.1</span> Installation</a>
<ul>
<li><a href="2.1-installation.html#r"><span class="toc-section-number">2.1.1</span> R</a></li>
<li><a href="2.1-installation.html#rstudio"><span class="toc-section-number">2.1.2</span> RStudio</a></li>
<li><a href="2.1-installation.html#packages---das-tidyverse"><span class="toc-section-number">2.1.3</span> Packages - das tidyverse</a></li>
</ul></li>
<li><a href="2.2-rstudio-benutzeroberfläche.html#rstudio-benutzeroberfläche"><span class="toc-section-number">2.2</span> RStudio Benutzeroberfläche</a>
<ul>
<li><a href="2.2-rstudio-benutzeroberfläche.html#source"><span class="toc-section-number">2.2.1</span> Source</a></li>
<li><a href="2.2-rstudio-benutzeroberfläche.html#konsole"><span class="toc-section-number">2.2.2</span> Konsole</a></li>
<li><a href="2.2-rstudio-benutzeroberfläche.html#environment"><span class="toc-section-number">2.2.3</span> Environment</a></li>
<li><a href="2.2-rstudio-benutzeroberfläche.html#files-plots-packages-help"><span class="toc-section-number">2.2.4</span> Files / Plots / Packages / Help</a></li>
</ul></li>
<li><a href="2.3-code-lesen-und-schreiben.html#code-lesen-und-schreiben"><span class="toc-section-number">2.3</span> Code lesen und schreiben</a>
<ul>
<li><a href="2.3-code-lesen-und-schreiben.html#die-konsole"><span class="toc-section-number">2.3.1</span> Die Konsole</a></li>
<li><a href="2.3-code-lesen-und-schreiben.html#r-skript"><span class="toc-section-number">2.3.2</span> R Skript</a></li>
<li><a href="2.3-code-lesen-und-schreiben.html#good-practice-code-zu-schreiben"><span class="toc-section-number">2.3.3</span> Good practice Code zu schreiben</a></li>
</ul></li>
<li><a href="2.4-objekte-und-funktionen.html#objekte-und-funktionen"><span class="toc-section-number">2.4</span> Objekte und Funktionen</a>
<ul>
<li><a href="2.4-objekte-und-funktionen.html#neue-objekte-erstellen"><span class="toc-section-number">2.4.1</span> Neue Objekte erstellen</a></li>
<li><a href="2.4-objekte-und-funktionen.html#beispiel-umrechnen-von-c-in-k"><span class="toc-section-number">2.4.2</span> Beispiel: Umrechnen von °C in K</a></li>
</ul></li>
<li><a href="2.5-cheatsheets.html#cheatsheets"><span class="toc-section-number">2.5</span> Cheatsheets</a></li>
</ul></li>
<li><a href="3-grundlagen.html#grundlagen"><span class="toc-section-number">3</span> Grundlagen</a>
<ul>
<li><a href="3.1-datentypen.html#datentypen"><span class="toc-section-number">3.1</span> Datentypen</a>
<ul>
<li><a href="3.1-datentypen.html#numerische-objekte"><span class="toc-section-number">3.1.1</span> Numerische Objekte</a></li>
<li><a href="3.1-datentypen.html#textobjekte"><span class="toc-section-number">3.1.2</span> Textobjekte</a></li>
<li><a href="3.1-datentypen.html#logicals"><span class="toc-section-number">3.1.3</span> Logicals</a></li>
<li><a href="3.1-datentypen.html#fehlende-werte"><span class="toc-section-number">3.1.4</span> Fehlende Werte</a></li>
<li><a href="3.1-datentypen.html#weitere-objekttypen"><span class="toc-section-number">3.1.5</span> Weitere Objekttypen</a></li>
<li><a href="3.1-datentypen.html#objekttypen-ändern"><span class="toc-section-number">3.1.6</span> Objekttypen ändern</a></li>
</ul></li>
<li><a href="3.2-datenstrukturen.html#datenstrukturen"><span class="toc-section-number">3.2</span> Datenstrukturen</a>
<ul>
<li><a href="3.2-datenstrukturen.html#vektor"><span class="toc-section-number">3.2.1</span> Vektor</a></li>
<li><a href="3.2-datenstrukturen.html#liste"><span class="toc-section-number">3.2.2</span> Liste</a></li>
<li><a href="3.2-datenstrukturen.html#matrix-und-dataframe"><span class="toc-section-number">3.2.3</span> Matrix und dataframe</a></li>
</ul></li>
<li><a href="3.3-zufallszahlen-erzeugen.html#zufallszahlen-erzeugen"><span class="toc-section-number">3.3</span> Zufallszahlen erzeugen</a></li>
<li><a href="3.4-rechnen-mit-vektoren.html#rechnen-mit-vektoren"><span class="toc-section-number">3.4</span> Rechnen mit Vektoren</a></li>
<li><a href="3.5-str-funktion.html#str-funktion"><span class="toc-section-number">3.5</span> str() Funktion</a></li>
<li><a href="3.6-selektion-von-spaltenzeilen-in-dataframes.html#selektion-von-spaltenzeilen-in-dataframes"><span class="toc-section-number">3.6</span> Selektion von Spalten/Zeilen in dataframes</a></li>
<li><a href="3.7-erstellen-von-eigenen-funktionen.html#erstellen-von-eigenen-funktionen"><span class="toc-section-number">3.7</span> Erstellen von eigenen Funktionen</a>
<ul>
<li><a href="3.7-erstellen-von-eigenen-funktionen.html#speziellere-anwendungen-von-funktionen"><span class="toc-section-number">3.7.1</span> Speziellere Anwendungen von Funktionen</a></li>
<li><a href="3.7-erstellen-von-eigenen-funktionen.html#nutze-...-als-platzhalter"><span class="toc-section-number">3.7.2</span> Nutze <code>...</code> als Platzhalter</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="erstellen-von-eigenen-funktionen" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Erstellen von eigenen Funktionen</h2>
<p>Wie wir einzelne Funktionen (bspw. <code>mean()</code> und <code>sd()</code>) anwenden haben wir bereits gelernt. Wir können aber auch selber eine Anwendung oder Funktion schreiben, in der mehrere Funktionen gebündelt sind. Viele Schritte in der Datenaufbereitung und Analyse wiederholen sich ständig. Daher ist es sinnvoll bestimmte Schritte zu “automatisieren”. Wollen wir zum Beispiel statistische Werte zum <code>mtcars</code> Datensatz haben, so können wir jeden Wert einzeln abfragen mit</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(mtcars<span class="sc">$</span>hp) <span class="co"># Anzahl der Werte</span></span>
<span id="cb68-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 32</span></span>
<span id="cb68-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mtcars<span class="sc">$</span>hp) <span class="co"># Arithmetisches Mittel</span></span>
<span id="cb68-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 146.6875</span></span>
<span id="cb68-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(mtcars<span class="sc">$</span>hp) <span class="co"># Standardabweichung</span></span>
<span id="cb68-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 68.56287</span></span>
<span id="cb68-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(mtcars<span class="sc">$</span>hp) <span class="co"># Minimum</span></span>
<span id="cb68-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 52</span></span>
<span id="cb68-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(mtcars<span class="sc">$</span>hp) <span class="co"># Maximum</span></span>
<span id="cb68-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 335</span></span>
<span id="cb68-11"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-11" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(mtcars<span class="sc">$</span>hp) <span class="co"># Median</span></span>
<span id="cb68-12"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 123</span></span></code></pre></div>
<p>Eine Möglichkeit wiederholte Abfragen zu ermöglichen ist das Ablegen in einen einzelnen Vektor:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-1" aria-hidden="true" tabindex="-1"></a>mtcars_hp_descriptives <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb69-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">length</span>(mtcars<span class="sc">$</span>hp),</span>
<span id="cb69-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean =</span> <span class="fu">mean</span>(mtcars<span class="sc">$</span>hp),</span>
<span id="cb69-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd =</span> <span class="fu">sd</span>(mtcars<span class="sc">$</span>hp),</span>
<span id="cb69-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">min =</span> <span class="fu">min</span>(mtcars<span class="sc">$</span>hp),</span>
<span id="cb69-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">max =</span> <span class="fu">max</span>(mtcars<span class="sc">$</span>hp),</span>
<span id="cb69-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">median =</span> <span class="fu">median</span>(mtcars<span class="sc">$</span>hp)</span>
<span id="cb69-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-10" aria-hidden="true" tabindex="-1"></a>mtcars_hp_descriptives</span>
<span id="cb69-11"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="do">##         n      mean        sd       min       max    median </span></span>
<span id="cb69-12"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb69-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  32.00000 146.68750  68.56287  52.00000 335.00000 123.00000</span></span></code></pre></div>
<p>Et voila 🎉 Eingabe des Objektes <code>mtcars_hp_descriptives</code> ermöglicht es uns die statistischen Kennwerte direkt auszugeben. Im <code>mtcars</code> Datensatz gibt es aber noch weitere Kenndaten. Wie können wir den code so anpassen, dass wir nicht jedes mal alles wieder neu abtippen müssen. Es wäre doch zu schön wenn so etwas in R möglich ist. Zwei Argumente warum ihr euch bei diesen Schritten gut überlegen solltet eine Funktion zu schreiben:</p>
<ul>
<li>Anstatt mehrerer Codezeilen ist in Zukunft für dasselbe Ergebnis eine Codezeile – der Funktionsaufruf – erforderlich.</li>
<li>Der Code bzw. euer Skript wird weniger redundant und übersichtlicher</li>
<li>Fehlerkorrekturen und Anpassungen werden vereinfacht, da ihr nur die Funktion ändern müsst und nicht jedes mal die Stellen wo die Funktion auftritt.</li>
</ul>
<p>Funktionen in R sind Objekte und werden ebenfalls mit dem <code>&lt;-</code> zugewiesen. Das Schema ist dabei immer das folgende mit drei zentralen Komponenten:</p>
<ul>
<li>Funktionsargumente, wie bei unseren bisherigen Funktionen auch (bspw. <code>na.rm = TRUE</code>)</li>
<li>Body der Funktion, welcher den Code zum Ausführen enthält</li>
<li>environment, beinhaltet die Datenstruktur damit die Funktion einen Wert mit dem Namen assoziieren kann</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb70-1" aria-hidden="true" tabindex="-1"></a>funktionsname <span class="ot">&lt;-</span> <span class="cf">function</span>(argument_1, argument_2) {</span>
<span id="cb70-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Body: Code, der ausgeführt wird</span></span>
<span id="cb70-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb70-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Mit der Funktion <code>function()</code> weisen wir einem Objektnamen ein Funktionsobjekt zu. Um den Code auf eine andere Variable anzuwenden, müssten wir jeweils <code>mtcars$hp</code> ersetzen – z. B. durch <code>mtcars$cyl</code> oder eine Variable aus einem anderen Datensatz. Wir möchten diesen Teil also durch einen Platzhalter ersetzen, den wir dann als Funktionsargument übergeben können. Mit einem generischen Platzhalter, den wir der Einfachheit halber als x bezeichnen, sähe der Code also wie folgt aus:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-1" aria-hidden="true" tabindex="-1"></a>descriptives <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="co"># Wir definieren &#39;x&#39; als Argument</span></span>
<span id="cb71-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  descriptives_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb71-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">length</span>(x),</span>
<span id="cb71-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(x),</span>
<span id="cb71-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(x),</span>
<span id="cb71-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(x),</span>
<span id="cb71-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(x),</span>
<span id="cb71-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(x)</span>
<span id="cb71-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb71-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb71-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Die Funktionsargumente werden in eine runde Klammer geschrieben <code>()</code> und der body in eine eckige <code>[]</code>. Unter <strong>Environment</strong> taucht unsere Funktion <code>descriptives</code> nun bei der Rubrik Funktionen auf und kann im Folgenden eingesetzt werden.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(mtcars<span class="sc">$</span>disp)</span></code></pre></div>
<p>Komisch das uns die Werte noch nicht angezeigt werden. Dies liegt daran, dass wir abschließend noch definieren müssen, was die Funktion mit der Anfrage durchführen soll. Vereinfacht gesagt, die Werte sollen angezeigt werden.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-1" aria-hidden="true" tabindex="-1"></a>descriptives <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="co"># Wir definieren &#39;x&#39; als Argument</span></span>
<span id="cb73-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  descriptives_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb73-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">length</span>(x),</span>
<span id="cb73-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(x),</span>
<span id="cb73-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(x),</span>
<span id="cb73-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(x),</span>
<span id="cb73-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(x),</span>
<span id="cb73-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(x)</span>
<span id="cb73-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb73-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(descriptives_vector) <span class="co"># oder nur descriptives_vector</span></span>
<span id="cb73-11"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb73-12"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-13"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(mtcars<span class="sc">$</span>cyl)  <span class="co"># Zusammenfassung der Zylinder</span></span>
<span id="cb73-14"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-14" aria-hidden="true" tabindex="-1"></a><span class="do">##         n      mean        sd       min       max    median </span></span>
<span id="cb73-15"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 32.000000  6.187500  1.785922  4.000000  8.000000  6.000000</span></span>
<span id="cb73-16"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-16" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(mtcars<span class="sc">$</span>mpg)  <span class="co"># Zusammenfassung des Verbrauchs</span></span>
<span id="cb73-17"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-17" aria-hidden="true" tabindex="-1"></a><span class="do">##         n      mean        sd       min       max    median </span></span>
<span id="cb73-18"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 32.000000 20.090625  6.026948 10.400000 33.900000 19.200000</span></span>
<span id="cb73-19"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-19" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(mtcars<span class="sc">$</span>gear) <span class="co"># Zusammenfassung Anzahl der Gänge</span></span>
<span id="cb73-20"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-20" aria-hidden="true" tabindex="-1"></a><span class="do">##          n       mean         sd        min        max     median </span></span>
<span id="cb73-21"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb73-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 32.0000000  3.6875000  0.7378041  3.0000000  5.0000000  4.0000000</span></span></code></pre></div>
<p>Falls wir jedoch fehlende Werte <code>NA</code>s in unserem Datensatz haben müssen wir die Funktion anpassen, da dies in den Funktionsargumenten momentan noch fehlt.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-1" aria-hidden="true" tabindex="-1"></a>descriptives <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) { <span class="co"># Default-Wert für &#39;na.rm&#39; = TRUE</span></span>
<span id="cb74-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  descriptives_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb74-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">length</span>(x),</span>
<span id="cb74-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> na.rm), </span>
<span id="cb74-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(x, <span class="at">na.rm =</span> na.rm),     </span>
<span id="cb74-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(x, <span class="at">na.rm =</span> na.rm),   </span>
<span id="cb74-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(x, <span class="at">na.rm =</span> na.rm),</span>
<span id="cb74-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(x, <span class="at">na.rm =</span> na.rm)</span>
<span id="cb74-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb74-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(descriptives_vector)</span>
<span id="cb74-11"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb74-12"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-13"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-13" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">12</span>,<span class="dv">4</span>,<span class="cn">NA</span>)</span>
<span id="cb74-14"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-14" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(a)</span>
<span id="cb74-15"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-15" aria-hidden="true" tabindex="-1"></a><span class="do">##         n      mean        sd       min       max    median </span></span>
<span id="cb74-16"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb74-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  5.000000  6.250000  4.031129  3.000000 12.000000  5.000000</span></span></code></pre></div>
<p>💡 Anstelle von <code>TRUE</code> oder <code>FALSE</code> erkennt R auch ein einfaches <code>T</code> oder <code>F</code>.</p>
<p>Viele Funktionen haben <code>default</code> als vordefinierte Argumente. Diese könnten wir auch in unserer Funktion ergänzen indem wir na.rm <code>=</code> setzen:</p>
<p>Dieser Default-Wert wird nun also immer verwendet, wenn wir das Argument nicht angegeben haben. Unsere Funktion ist somit noch flexibler geworden.</p>
<div id="speziellere-anwendungen-von-funktionen" class="section level3" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Speziellere Anwendungen von Funktionen</h3>
<p>Lasst uns diese Kenntnisse erweitern und unsere Daten mit Statistikparametern plotten:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-1" aria-hidden="true" tabindex="-1"></a>spezialplot <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb75-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb75-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">add.mean =</span> <span class="cn">FALSE</span>,</span>
<span id="cb75-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">add.regression =</span> <span class="cn">FALSE</span>,</span>
<span id="cb75-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">p.threshold =</span> .<span class="dv">05</span>,</span>
<span id="cb75-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">add.modeltext =</span> <span class="cn">FALSE</span>,</span>
<span id="cb75-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-7" aria-hidden="true" tabindex="-1"></a>                        ...  <span class="co"># Weitere Argumente die ergänzt werden sollen</span></span>
<span id="cb75-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-8" aria-hidden="true" tabindex="-1"></a>                           ) {</span>
<span id="cb75-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstelle den Plot</span></span>
<span id="cb75-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-10" aria-hidden="true" tabindex="-1"></a><span class="co"># und setze ggf. weitere Argumente wie `main` für Titel</span></span>
<span id="cb75-11"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(x, y, ...)</span>
<span id="cb75-12"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-13"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstelle Referenzlinie vom Mittelwert wenn add.mean = TRUE</span></span>
<span id="cb75-14"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(add.mean <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb75-15"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-16"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(y), <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb75-17"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abline</span>(<span class="at">v =</span> <span class="fu">mean</span>(x), <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb75-18"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb75-19"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-20"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstelle Regressionlinie wenn add.regression = TRUE</span></span>
<span id="cb75-21"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-21" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(add.regression <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb75-22"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-23"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-23" aria-hidden="true" tabindex="-1"></a>  model <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x) <span class="co"># Erstelle Regression mit `lm` linear model</span></span>
<span id="cb75-24"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-25"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-25" aria-hidden="true" tabindex="-1"></a>  p.value <span class="ot">&lt;-</span> <span class="fu">anova</span>(model)<span class="sc">$</span><span class="st">&quot;Pr(&gt;F)&quot;</span>[<span class="dv">1</span>] <span class="co"># Ziehe den p Wert aus dem Objekt p.value</span></span>
<span id="cb75-26"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-27"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Definiere die Farbe in Abhängigkeit von p.value und p.threshold</span></span>
<span id="cb75-28"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(p.value <span class="sc">&lt;</span> p.threshold) {line.col <span class="ot">&lt;-</span> <span class="st">&quot;red&quot;</span>}</span>
<span id="cb75-29"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(p.value <span class="sc">&gt;=</span> p.threshold) {line.col <span class="ot">&lt;-</span> <span class="st">&quot;black&quot;</span>}</span>
<span id="cb75-30"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-31"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abline</span>(<span class="fu">lm</span>(y <span class="sc">~</span> x), <span class="at">col =</span> line.col, <span class="at">lwd =</span> <span class="dv">2</span>) <span class="co"># Füge die Regressionlinie hinzu</span></span>
<span id="cb75-32"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-33"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb75-34"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-35"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add regression equation text if add.modeltext is TRUE</span></span>
<span id="cb75-36"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-36" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(add.modeltext <span class="sc">==</span> <span class="cn">TRUE</span>) {</span>
<span id="cb75-37"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-38"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Erstelle Regressionsdaten</span></span>
<span id="cb75-39"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-39" aria-hidden="true" tabindex="-1"></a>  model <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x)</span>
<span id="cb75-40"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-41"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extrahiere die Koeffizienten vom Objekt `model`</span></span>
<span id="cb75-42"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-42" aria-hidden="true" tabindex="-1"></a>  coefficients <span class="ot">&lt;-</span> model<span class="sc">$</span>coefficients</span>
<span id="cb75-43"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-43" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">round</span>(coefficients[<span class="dv">1</span>], <span class="dv">2</span>)</span>
<span id="cb75-44"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-44" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="fu">round</span>(coefficients[<span class="dv">2</span>], <span class="dv">2</span>)</span>
<span id="cb75-45"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-46"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create text</span></span>
<span id="cb75-47"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-47" aria-hidden="true" tabindex="-1"></a>  model.text <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Regression Equation: &quot;</span>, a, <span class="st">&quot; + &quot;</span>, b, <span class="st">&quot; * x&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb75-48"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-49"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add text to top of plot</span></span>
<span id="cb75-50"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mtext</span>(model.text, <span class="at">side =</span> <span class="dv">3</span>, <span class="at">line =</span> .<span class="dv">5</span>, <span class="at">cex =</span> .<span class="dv">8</span>)</span>
<span id="cb75-51"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-52"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-52" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb75-53"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb75-53" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Jetzt können wir in unsere Beispielfunktion Daten einsetzen aus dem <code>mtcars</code> Datensatz:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spezialplot</span>(<span class="at">x =</span> mtcars<span class="sc">$</span>mpg, </span>
<span id="cb76-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb76-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> mtcars<span class="sc">$</span>hp)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-102-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Das sieht danach aus, dass der Verbrauch größer ist je mehr PS das Auto hat</span></span>
<span id="cb77-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir können das Überprüfen indem wir die zusätzlichen Argumente in unserer Funktion setzen</span></span>
<span id="cb77-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">spezialplot</span>(<span class="at">x =</span> mtcars<span class="sc">$</span>mpg, </span>
<span id="cb77-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> mtcars<span class="sc">$</span>hp, </span>
<span id="cb77-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">add.mean =</span> <span class="cn">TRUE</span>, </span>
<span id="cb77-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">add.regression =</span> <span class="cn">TRUE</span>, </span>
<span id="cb77-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">add.modeltext =</span> <span class="cn">TRUE</span>, </span>
<span id="cb77-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">p.threshold =</span> .<span class="dv">05</span>, </span>
<span id="cb77-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">xlab =</span> <span class="st">&quot;Miles per gallon&quot;</span>,</span>
<span id="cb77-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb77-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">ylab =</span> <span class="st">&quot;Horsepower&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-102-2.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Und wie schaut das ganze für Gewicht und Verbrauch aus</span></span>
<span id="cb78-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">spezialplot</span>(<span class="at">x =</span> mtcars<span class="sc">$</span>mpg, </span>
<span id="cb78-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> mtcars<span class="sc">$</span>wt, </span>
<span id="cb78-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">add.mean =</span> <span class="cn">TRUE</span>, </span>
<span id="cb78-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">add.regression =</span> <span class="cn">TRUE</span>, </span>
<span id="cb78-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">add.modeltext =</span> <span class="cn">TRUE</span>, </span>
<span id="cb78-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">p.threshold =</span> .<span class="dv">05</span>, </span>
<span id="cb78-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">xlab =</span> <span class="st">&quot;Miles per gallon&quot;</span>,</span>
<span id="cb78-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb78-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">ylab =</span> <span class="st">&quot;Weight (1000 lbs)&quot;</span>)</span></code></pre></div>
<p><img src="documentation_files/figure-html/unnamed-chunk-102-3.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Schnelle Analyse: Je mehr Pferdestärken und je größer das Gewicht, desto größer ist auch der Verbrauch des Autos.</p>
<p>💡 Anstelle eine Funktion immer wieder aufs neue zu schreiben empfiehlt es sich ein R Skript anzulegen unter File -&gt; New File -&gt; R script. Hier könnt ihr eure Funktionen reinschreiben, in eurem Projektordner hinterlegen und mit der Funktion <code>source</code> automatisch in eure aktuelle R session hineinladen. Das spart Platz und beschleunigt eure explorative Datenanlyse erheblich.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluiere den Code in meinem `custom_function` script zu Beginn meiner Session</span></span>
<span id="cb79-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="at">file =</span> <span class="st">&quot;custom_functions.R&quot;</span>)</span></code></pre></div>
</div>
<div id="nutze-...-als-platzhalter" class="section level3" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> Nutze <code>...</code> als Platzhalter</h3>
<p>Wenn man nicht alle Argumente in einer Funktion definieren möchte, sich dieses aber noch für später offen lassen möchte:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-1" aria-hidden="true" tabindex="-1"></a>descriptives <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) { <span class="co"># Here is where the additional arguments go</span></span>
<span id="cb80-2"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  descriptives_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb80-3"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">length</span>(x),</span>
<span id="cb80-4"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(x, ...), <span class="co"># and here</span></span>
<span id="cb80-5"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(x, ...),     </span>
<span id="cb80-6"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(x, ...),   </span>
<span id="cb80-7"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(x, ...),</span>
<span id="cb80-8"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(x, ...)</span>
<span id="cb80-9"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-10"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(descriptives_vector)</span>
<span id="cb80-11"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb80-12"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-13"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-13" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">12</span>,<span class="dv">4</span>,<span class="cn">NA</span>)</span>
<span id="cb80-14"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-14" aria-hidden="true" tabindex="-1"></a><span class="fu">descriptives</span>(a, <span class="at">na.rm =</span> T)</span>
<span id="cb80-15"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-15" aria-hidden="true" tabindex="-1"></a><span class="do">##         n      mean        sd       min       max    median </span></span>
<span id="cb80-16"><a href="3.7-erstellen-von-eigenen-funktionen.html#cb80-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  5.000000  6.250000  4.031129  3.000000 12.000000  5.000000</span></span></code></pre></div>

</div>
</div>
<!-- </div> -->
<p style="text-align: center;">
<a href="3.6-selektion-von-spaltenzeilen-in-dataframes.html"><button class="btn btn-default">Previous</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
